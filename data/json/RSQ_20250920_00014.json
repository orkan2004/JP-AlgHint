{
  "id": "RSQ_20250920_00014",
  "version": "1.0",
  "lang": "ja",
  "task_family": "range_sum_query",
  "answer_type": "lines",
  "task": "rsq_prefix",
  "statement_ja": "配列 a と Q 個の区間 [l,r] (1-indexed, 閉区間) が与えられる。各区間の和を求めよ。",
  "io_spec": {
    "input": "n Q\\na_1 .. a_n\\n(l r)×Q",
    "output": "各クエリの区間和（改行区切り）"
  },
  "instance": {
    "seed": 14,
    "template_id": "RSQ_T1",
    "params": {
      "n": 55
    }
  },
  "tests": [
    {
      "in": "55 60\n95 100 28 -15 53 31 33 -45 14 -15 59 30 -27 66 -42 69 -97 -6 99 -6 3 94 64 92 30 -3 -77 -52 -12 88 -48 -95 -70 -74 -49 -62 -43 85 28 -4 -40 -87 -27 -25 -53 -5 -26 -24 -11 -13 86 -96 32 -69 -43\n30 44\n35 39\n34 44\n15 38\n16 25\n13 27\n33 35\n24 55\n8 14\n2 23\n36 38\n24 30\n2 44\n13 40\n18 23\n2 18\n29 34\n14 21\n21 52\n14 51\n1 40\n30 41\n14 30\n6 33\n12 52\n40 51\n4 44\n2 29\n50 53\n4 43\n1 44\n20 22\n9 41\n28 42\n35 51\n27 55\n24 28\n28 54\n20 41\n4 29\n35 36\n3 19\n18 20\n33 46\n12 31\n46 52\n4 42\n5 29\n6 51\n3 29\n38 54\n22 52\n14 35\n30 50\n17 23\n6 19\n20 24\n19 48\n5 26\n26 27\n",
      "out": "-423\n-41\n-298\n-112\n342\n259\n-193\n-667\n82\n490\n-20\n66\n45\n-49\n248\n236\n-211\n86\n-426\n-247\n319\n-284\n310\n177\n-340\n-229\n-83\n468\n9\n-58\n140\n91\n-1\n-435\n-270\n-786\n-10\n-666\n-151\n340\n-111\n235\n87\n-426\n265\n-89\n-31\n355\n-167\n368\n-249\n-429\n-26\n-555\n151\n169\n247\n-299\n496\n-80\n"
    },
    {
      "in": "55 16\n95 100 28 -15 53 31 33 -45 14 -15 59 30 -27 66 -42 69 -97 -6 99 -6 3 94 64 92 30 -3 -77 -52 -12 88 -48 -95 -70 -74 -49 -62 -43 85 28 -4 -40 -87 -27 -25 -53 -5 -26 -24 -11 -13 86 -96 32 -69 -43\n1 1\n55 55\n1 55\n33 44\n18 19\n13 46\n6 25\n7 17\n36 48\n4 12\n10 30\n45 51\n21 33\n16 18\n33 43\n6 12\n",
      "out": "95\n-43\n-82\n-368\n93\n-286\n446\n45\n-283\n145\n357\n-46\n14\n-34\n-343\n107\n"
    }
  ],
  "reference": {
    "py": "ref/py/rsq_prefix.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "累積和を作ると O(1) で区間和が出せる。"
    },
    {
      "level": 2,
      "text": "pref[i] = a_1+…+a_i、答えは pref[r]-pref[l-1]。"
    },
    {
      "level": 3,
      "text": "1-indexed の境界 (l-1) を忘れないこと。"
    }
  ],
  "distractors": [
    {
      "code": "OFF_BY_ONE_L",
      "desc": "pref[r]-pref[l] としてしまう"
    },
    {
      "code": "ZERO_INDEX_INPUT",
      "desc": "入力1-indexedを0-index前提で処理"
    },
    {
      "code": "REBUILD_EACH_QUERY",
      "desc": "毎回部分和をループで足す O(nQ)"
    }
  ],
  "witness": {
    "array_len": 55,
    "sample_queries": [
      [
        1,
        1
      ],
      [
        55,
        55
      ],
      [
        1,
        55
      ]
    ]
  },
  "difficulty": {
    "score": 0.25,
    "basis": "prefix sum basics"
  },
  "tags": [
    "array",
    "prefix_sum",
    "beginner"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}