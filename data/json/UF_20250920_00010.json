{
  "id": "UF_20250920_00010",
  "version": "1.0",
  "lang": "ja",
  "task_family": "union_find_connectivity",
  "answer_type": "lines",
  "task": "uf_connect",
  "statement_ja": "無向グラフ G(V,E) と Q 個の質問 (a,b) が与えられる。Union-Find を用いて、a と b が同じ連結成分かを判定せよ（同じなら 1、異なるなら 0）。",
  "io_spec": {
    "input": "n m Q\\n(u v)×m\\n(a b)×Q（すべて 1-indexed）",
    "output": "各クエリに対する 1/0（改行区切り）"
  },
  "instance": {
    "seed": 10,
    "template_id": "UF_T1",
    "params": {
      "n": 38
    }
  },
  "tests": [
    {
      "in": "38 48 76\n1 30\n1 36\n2 15\n2 18\n2 27\n2 38\n3 4\n3 8\n3 19\n4 8\n4 9\n5 6\n5 13\n6 7\n6 13\n6 22\n7 25\n8 11\n8 32\n9 11\n9 16\n10 26\n11 16\n12 21\n12 28\n13 24\n14 22\n14 24\n14 25\n15 27\n15 38\n17 26\n18 27\n20 33\n20 37\n21 23\n21 26\n21 28\n21 34\n23 34\n27 31\n28 34\n29 33\n29 36\n30 37\n33 36\n33 37\n35 38\n21 12\n28 12\n36 1\n1 33\n24 22\n17 34\n17 21\n5 6\n26 10\n27 31\n27 18\n34 26\n12 26\n21 12\n21 26\n3 19\n21 28\n30 37\n15 31\n10 26\n34 21\n7 5\n26 12\n9 19\n8 19\n4 9\n11 3\n9 19\n36 20\n11 19\n23 21\n34 21\n30 37\n33 1\n16 8\n10 17\n23 34\n26 21\n20 22\n24 31\n10 31\n37 17\n24 34\n38 9\n27 13\n37 14\n22 10\n7 26\n19 26\n2 10\n17 22\n22 29\n25 29\n13 10\n21 3\n5 17\n33 6\n33 38\n33 7\n24 16\n29 6\n21 30\n33 38\n30 8\n5 35\n31 17\n4 14\n29 23\n1 21\n10 13\n31 30\n27 29\n31 33\n29 16\n29 15\n26 15\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    },
    {
      "in": "38 56 34\n1 20\n1 29\n1 36\n1 37\n2 15\n3 11\n4 16\n4 19\n4 32\n5 6\n5 14\n6 13\n6 22\n7 14\n8 9\n8 11\n8 16\n8 19\n9 11\n9 16\n9 19\n10 12\n10 17\n10 26\n10 34\n12 17\n12 34\n13 22\n13 24\n14 22\n14 24\n15 18\n15 35\n16 19\n17 26\n17 28\n18 27\n18 35\n18 38\n20 29\n20 36\n21 23\n21 26\n21 28\n22 25\n24 25\n26 28\n26 34\n27 31\n27 35\n27 38\n29 33\n30 33\n30 36\n33 36\n35 38\n4 32\n36 30\n17 28\n12 34\n31 38\n34 21\n6 13\n24 6\n6 24\n28 34\n32 4\n33 30\n31 15\n35 15\n24 14\n31 35\n17 23\n35 27\n37 30\n35 38\n37 1\n37 20\n23 12\n13 5\n20 37\n24 25\n22 5\n14 9\n30 32\n27 37\n32 17\n18 36\n30 2\n10 35\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n"
    }
  ],
  "reference": {
    "py": "ref/py/uf_connect.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺をすべて unite してから same(a,b) を判定する。"
    },
    {
      "level": 2,
      "text": "経路圧縮 + サイズ（またはランク）併合で高速化。"
    },
    {
      "level": 3,
      "text": "入力は 1-indexed。0-index と取り違えないこと。"
    }
  ],
  "distractors": [
    {
      "code": "NO_PATH_COMPRESSION",
      "desc": "経路圧縮なしで find が遅い"
    },
    {
      "code": "UNION_BY_RANK_BUG",
      "desc": "小を大にぶら下げる条件を逆にしてしまう"
    },
    {
      "code": "INDEX_BASE_MISMATCH",
      "desc": "1-indexed/0-indexed の取り違え"
    },
    {
      "code": "DELAY_UNION",
      "desc": "クエリ処理後に union してしまう順序ミス"
    }
  ],
  "witness": {
    "yes_count_t1": 38,
    "no_count_t1": 38,
    "yes_count_t2": 27,
    "no_count_t2": 7
  },
  "difficulty": {
    "score": 0.35,
    "basis": "DSU basics with path compression"
  },
  "tags": [
    "dsu",
    "graph",
    "beginner"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}