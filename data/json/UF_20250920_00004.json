{
  "id": "UF_20250920_00004",
  "version": "1.0",
  "lang": "ja",
  "task_family": "union_find_connectivity",
  "answer_type": "lines",
  "task": "uf_connect",
  "statement_ja": "無向グラフ G(V,E) と Q 個の質問 (a,b) が与えられる。Union-Find を用いて、a と b が同じ連結成分かを判定せよ（同じなら 1、異なるなら 0）。",
  "io_spec": {
    "input": "n m Q\\n(u v)×m\\n(a b)×Q（すべて 1-indexed）",
    "output": "各クエリに対する 1/0（改行区切り）"
  },
  "instance": {
    "seed": 4,
    "template_id": "UF_T1",
    "params": {
      "n": 33
    }
  },
  "tests": [
    {
      "in": "33 45 56\n1 17\n1 19\n1 21\n2 6\n2 15\n2 22\n2 23\n3 18\n3 23\n3 28\n3 29\n4 7\n5 10\n6 24\n6 29\n7 21\n7 31\n7 33\n8 10\n8 11\n8 18\n9 31\n10 32\n11 18\n12 19\n12 27\n12 30\n12 33\n13 18\n13 22\n13 24\n14 19\n16 22\n17 21\n17 30\n18 28\n19 20\n20 25\n21 26\n21 27\n21 30\n24 32\n27 30\n27 33\n29 32\n7 9\n17 4\n21 1\n1 14\n6 5\n6 18\n21 25\n4 31\n29 22\n29 18\n1 30\n4 25\n21 1\n33 26\n9 26\n25 7\n13 10\n13 16\n32 24\n33 9\n8 24\n18 29\n5 22\n17 33\n26 7\n30 7\n4 12\n20 31\n21 2\n9 16\n4 13\n9 18\n6 9\n3 12\n17 18\n4 13\n6 19\n18 4\n26 16\n15 4\n26 23\n14 10\n27 32\n12 24\n6 25\n25 2\n7 16\n16 7\n10 21\n15 25\n10 17\n9 15\n4 22\n17 3\n26 32\n29 17\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    },
    {
      "in": "33 58 41\n1 17\n1 21\n1 26\n1 31\n2 16\n2 18\n2 23\n2 28\n3 6\n3 11\n3 18\n3 29\n4 21\n5 8\n6 13\n6 18\n6 23\n7 19\n7 21\n7 30\n7 31\n8 11\n8 18\n8 22\n8 23\n8 28\n8 32\n9 25\n9 26\n9 31\n9 33\n10 11\n10 32\n11 15\n11 23\n11 24\n11 32\n12 19\n12 26\n12 30\n13 18\n13 28\n14 17\n14 20\n14 27\n14 33\n15 29\n16 18\n18 23\n19 20\n20 21\n20 26\n20 31\n21 27\n22 28\n25 33\n30 33\n31 33\n30 26\n18 11\n11 18\n16 15\n27 17\n21 31\n18 5\n9 25\n31 27\n33 31\n28 15\n15 32\n16 15\n12 21\n5 16\n6 18\n25 4\n7 31\n19 33\n10 18\n1 9\n1 7\n18 15\n7 12\n16 2\n12 30\n22 18\n17 33\n7 25\n10 16\n20 7\n21 4\n33 3\n11 33\n2 1\n29 9\n4 29\n24 26\n27 8\n14 5\n16 25\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    }
  ],
  "reference": {
    "py": "ref/py/uf_connect.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺をすべて unite してから same(a,b) を判定する。"
    },
    {
      "level": 2,
      "text": "経路圧縮 + サイズ（またはランク）併合で高速化。"
    },
    {
      "level": 3,
      "text": "入力は 1-indexed。0-index と取り違えないこと。"
    }
  ],
  "distractors": [
    {
      "code": "NO_PATH_COMPRESSION",
      "desc": "経路圧縮なしで find が遅い"
    },
    {
      "code": "UNION_BY_RANK_BUG",
      "desc": "小を大にぶら下げる条件を逆にしてしまう"
    },
    {
      "code": "INDEX_BASE_MISMATCH",
      "desc": "1-indexed/0-indexed の取り違え"
    },
    {
      "code": "DELAY_UNION",
      "desc": "クエリ処理後に union してしまう順序ミス"
    }
  ],
  "witness": {
    "yes_count_t1": 28,
    "no_count_t1": 28,
    "yes_count_t2": 32,
    "no_count_t2": 9
  },
  "difficulty": {
    "score": 0.35,
    "basis": "DSU basics with path compression"
  },
  "tags": [
    "dsu",
    "graph",
    "beginner"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}