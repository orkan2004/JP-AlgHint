{
  "id": "MST_20250920_00018",
  "version": "1.0",
  "lang": "ja",
  "task_family": "mst_kruskal",
  "answer_type": "int",
  "task": "mst_kruskal",
  "statement_ja": "重み付き無向グラフの最小全域木の重み合計を求めよ。連結でない場合は -1。",
  "io_spec": {
    "input": "n m\\n(u v w)×m（1-indexed）",
    "output": "MST重み合計または -1"
  },
  "instance": {
    "seed": 18,
    "template_id": "MST_T1",
    "params": {
      "n": 37
    }
  },
  "tests": [
    {
      "in": "37 81\n16 20 304\n1 31 367\n13 33 275\n8 18 541\n12 34 77\n17 30 106\n9 26 896\n13 17 480\n6 11 936\n7 19 93\n3 6 633\n12 18 311\n4 32 847\n1 8 642\n27 36 936\n8 32 113\n10 29 186\n18 21 932\n24 37 921\n2 34 115\n3 8 373\n22 30 52\n21 32 836\n9 21 693\n12 13 538\n14 28 717\n5 25 945\n1 12 99\n1 21 451\n2 29 910\n12 15 841\n29 31 264\n3 12 573\n31 37 949\n4 22 2\n2 24 175\n12 19 879\n29 35 86\n14 16 255\n8 15 882\n5 34 525\n28 36 617\n9 32 423\n2 26 890\n6 26 30\n7 25 604\n21 24 289\n14 18 716\n18 34 42\n1 2 220\n4 35 152\n29 30 745\n18 36 656\n8 10 757\n1 4 16\n2 3 775\n3 32 554\n6 12 68\n13 27 378\n24 27 406\n18 20 535\n1 34 767\n12 16 767\n24 36 767\n11 17 374\n13 29 396\n16 25 939\n4 5 939\n7 22 159\n25 37 92\n4 14 823\n6 7 950\n25 30 476\n21 23 341\n26 37 409\n31 36 159\n17 19 97\n10 13 74\n2 9 873\n9 33 120\n7 8 826\n",
      "out": "8157\n"
    },
    {
      "in": "37 81\n16 20 375\n1 31 669\n13 33 505\n8 18 443\n12 34 610\n17 30 53\n9 26 693\n13 17 53\n6 11 56\n7 19 835\n3 6 625\n12 18 669\n4 32 599\n1 8 274\n27 36 425\n8 32 12\n10 29 458\n18 21 268\n24 37 977\n2 34 57\n3 8 991\n22 30 251\n21 32 342\n9 21 57\n12 13 155\n14 28 219\n5 25 565\n1 12 360\n1 21 50\n2 29 583\n12 15 861\n29 31 447\n3 12 288\n31 37 604\n4 22 59\n2 24 60\n12 19 20\n29 35 59\n14 16 55\n8 15 50\n5 34 52\n28 36 958\n9 32 12\n2 26 598\n6 26 54\n7 25 150\n21 24 50\n14 18 876\n18 34 55\n1 2 53\n4 35 203\n29 30 775\n18 36 770\n8 10 228\n1 4 554\n2 3 754\n3 32 178\n6 12 303\n13 27 892\n24 27 53\n18 20 294\n1 34 763\n12 16 946\n24 36 18\n11 17 561\n13 29 191\n16 25 52\n4 5 56\n7 22 57\n25 37 6\n4 14 203\n6 7 52\n25 30 477\n21 23 582\n26 37 93\n31 36 19\n17 19 56\n10 13 557\n2 9 58\n9 33 52\n7 8 53\n",
      "out": "3260\n"
    }
  ],
  "reference": {
    "py": "ref/py/mst_kruskal.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺を重み昇順に並べ、サイクルを作らないものだけ採用（Kruskal）。"
    },
    {
      "level": 2,
      "text": "サイクル判定にUnion-Findを使う。採用数が n-1 に達したら終了。"
    },
    {
      "level": 3,
      "text": "重みが同じでも動くように比較は w のみ。"
    }
  ],
  "distractors": [
    {
      "code": "WRONG_SORT_KEY",
      "desc": "w以外でソート"
    },
    {
      "code": "CYCLE_FILTER_MISS",
      "desc": "サイクル検出を忘れる"
    },
    {
      "code": "UNION_ORDER_BUG",
      "desc": "併合の大小関係を誤る"
    }
  ],
  "witness": {
    "mst_weight_t1": 8157,
    "chosen_edges_t1": [
      34,
      54,
      44,
      48,
      21,
      57,
      77,
      4,
      37,
      69,
      9,
      76,
      27,
      5,
      15,
      19,
      79,
      50,
      75,
      35,
      16,
      38,
      31,
      2,
      46,
      0,
      73,
      20,
      64,
      58,
      74,
      42,
      40,
      60,
      41,
      30
    ],
    "mst_weight_t2": 3260,
    "chosen_edges_t2": [
      69,
      15,
      42,
      63,
      75,
      36,
      28,
      39,
      46,
      40,
      71,
      79,
      66,
      49,
      80,
      7,
      5,
      59,
      44,
      38,
      48,
      67,
      8,
      76,
      19,
      68,
      23,
      37,
      74,
      56,
      65,
      50,
      25,
      53,
      60,
      73
    ]
  },
  "difficulty": {
    "score": 0.45,
    "basis": "Kruskal + DSU"
  },
  "tags": [
    "graph",
    "mst",
    "dsu",
    "intermediate"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}