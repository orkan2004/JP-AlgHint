{
  "id": "MST_20250920_00026",
  "version": "1.0",
  "lang": "ja",
  "task_family": "mst_kruskal",
  "answer_type": "int",
  "task": "mst_kruskal",
  "statement_ja": "重み付き無向グラフの最小全域木の重み合計を求めよ。連結でない場合は -1。",
  "io_spec": {
    "input": "n m\\n(u v w)×m（1-indexed）",
    "output": "MST重み合計または -1"
  },
  "instance": {
    "seed": 26,
    "template_id": "MST_T1",
    "params": {
      "n": 30
    }
  },
  "tests": [
    {
      "in": "30 74\n6 12 557\n15 24 278\n7 23 593\n7 20 172\n4 9 722\n15 27 360\n20 23 740\n4 12 346\n5 7 753\n20 26 588\n4 15 654\n5 10 221\n3 19 388\n12 28 557\n5 16 500\n14 19 345\n14 28 333\n12 25 306\n9 11 513\n9 17 788\n4 24 681\n1 3 618\n8 21 815\n10 15 153\n1 12 920\n1 21 966\n10 30 496\n6 8 820\n13 26 247\n7 13 663\n16 28 746\n4 5 530\n3 9 353\n18 25 529\n7 25 872\n3 12 825\n12 18 542\n12 24 955\n12 30 312\n3 15 846\n5 12 606\n9 16 373\n5 21 948\n1 2 354\n17 23 598\n8 17 358\n10 14 837\n1 11 823\n8 20 636\n19 20 594\n13 18 679\n10 23 71\n1 23 701\n6 13 328\n15 22 798\n1 29 77\n16 27 943\n18 30 192\n4 13 680\n20 27 835\n12 26 892\n4 22 649\n8 16 686\n1 4 309\n2 9 247\n2 6 447\n9 24 64\n2 18 50\n19 28 529\n11 21 402\n8 25 565\n8 22 695\n9 30 123\n2 24 16\n",
      "out": "8747\n"
    },
    {
      "in": "30 74\n6 12 635\n15 24 59\n7 23 60\n7 20 810\n4 9 307\n15 27 171\n20 23 340\n4 12 56\n5 7 347\n20 26 822\n4 15 60\n5 10 878\n3 19 53\n12 28 50\n5 16 53\n14 19 52\n14 28 157\n12 25 301\n9 11 651\n9 17 572\n4 24 878\n1 3 526\n8 21 55\n10 15 57\n1 12 54\n1 21 862\n10 30 59\n6 8 57\n13 26 952\n7 13 56\n16 28 508\n4 5 27\n3 9 613\n18 25 966\n7 25 107\n3 12 641\n12 18 58\n12 24 50\n12 30 285\n3 15 58\n5 12 985\n9 16 50\n5 21 288\n1 2 427\n17 23 738\n8 17 796\n10 14 57\n1 11 296\n8 20 575\n19 20 950\n13 18 52\n10 23 928\n1 23 638\n6 13 56\n15 22 54\n1 29 367\n16 27 58\n18 30 361\n4 13 50\n20 27 51\n12 26 933\n4 22 677\n8 16 203\n1 4 55\n2 9 60\n2 6 111\n9 24 55\n2 18 51\n19 28 59\n11 21 397\n8 25 582\n8 22 60\n9 30 27\n2 24 919\n",
      "out": "3408\n"
    }
  ],
  "reference": {
    "py": "ref/py/mst_kruskal.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺を重み昇順に並べ、サイクルを作らないものだけ採用（Kruskal）。"
    },
    {
      "level": 2,
      "text": "サイクル判定にUnion-Findを使う。採用数が n-1 に達したら終了。"
    },
    {
      "level": 3,
      "text": "重みが同じでも動くように比較は w のみ。"
    }
  ],
  "distractors": [
    {
      "code": "WRONG_SORT_KEY",
      "desc": "w以外でソート"
    },
    {
      "code": "CYCLE_FILTER_MISS",
      "desc": "サイクル検出を忘れる"
    },
    {
      "code": "UNION_ORDER_BUG",
      "desc": "併合の大小関係を誤る"
    }
  ],
  "witness": {
    "mst_weight_t1": 8747,
    "chosen_edges_t1": [
      73,
      67,
      66,
      51,
      55,
      72,
      23,
      3,
      11,
      28,
      1,
      17,
      63,
      38,
      53,
      16,
      15,
      7,
      32,
      45,
      5,
      41,
      12,
      69,
      65,
      18,
      70,
      9,
      61
    ],
    "mst_weight_t2": 3408,
    "chosen_edges_t2": [
      31,
      72,
      58,
      41,
      37,
      13,
      67,
      59,
      50,
      15,
      12,
      14,
      24,
      54,
      63,
      22,
      53,
      29,
      27,
      46,
      23,
      56,
      26,
      2,
      34,
      47,
      55,
      19,
      9
    ]
  },
  "difficulty": {
    "score": 0.45,
    "basis": "Kruskal + DSU"
  },
  "tags": [
    "graph",
    "mst",
    "dsu",
    "intermediate"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}