{
  "id": "UF_20250920_00008",
  "version": "1.0",
  "lang": "ja",
  "task_family": "union_find_connectivity",
  "answer_type": "lines",
  "task": "uf_connect",
  "statement_ja": "無向グラフ G(V,E) と Q 個の質問 (a,b) が与えられる。Union-Find を用いて、a と b が同じ連結成分かを判定せよ（同じなら 1、異なるなら 0）。",
  "io_spec": {
    "input": "n m Q\\n(u v)×m\\n(a b)×Q（すべて 1-indexed）",
    "output": "各クエリに対する 1/0（改行区切り）"
  },
  "instance": {
    "seed": 8,
    "template_id": "UF_T1",
    "params": {
      "n": 56
    }
  },
  "tests": [
    {
      "in": "56 82 71\n1 27\n1 37\n1 39\n2 3\n2 13\n2 30\n2 31\n2 38\n2 42\n2 51\n3 26\n3 36\n3 43\n4 16\n4 20\n4 21\n4 37\n4 55\n5 10\n5 16\n5 37\n5 40\n5 45\n6 38\n7 23\n8 25\n9 35\n9 47\n9 49\n10 28\n10 29\n11 28\n11 40\n11 53\n12 13\n12 23\n12 25\n12 31\n13 26\n13 34\n13 36\n14 27\n14 33\n15 24\n15 44\n16 29\n17 52\n17 54\n18 20\n19 41\n20 40\n22 28\n22 46\n23 34\n23 52\n24 31\n24 51\n25 41\n26 31\n26 36\n26 41\n26 50\n26 52\n27 53\n28 35\n29 56\n30 52\n32 52\n33 39\n34 50\n35 47\n36 42\n37 40\n39 55\n40 46\n40 47\n40 55\n40 56\n42 44\n47 48\n48 53\n49 55\n56 18\n55 14\n9 29\n23 15\n21 11\n21 37\n20 47\n26 44\n21 37\n7 43\n39 46\n48 14\n4 55\n35 28\n48 49\n50 6\n3 26\n19 51\n1 20\n16 29\n49 5\n6 19\n51 3\n6 50\n48 20\n43 50\n41 2\n29 47\n47 56\n7 42\n15 41\n23 42\n29 46\n50 34\n37 33\n24 48\n18 12\n47 31\n7 53\n32 55\n13 53\n42 39\n27 34\n43 35\n19 45\n18 25\n56 25\n14 23\n32 55\n6 18\n56 24\n53 17\n50 46\n20 8\n53 13\n15 11\n17 37\n20 36\n5 17\n5 43\n47 52\n5 15\n2 10\n29 32\n40 2\n20 26\n56 3\n9 32\n26 27\n4 26\n50 29\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    },
    {
      "in": "56 100 30\n1 5\n1 16\n1 27\n1 40\n2 7\n2 23\n2 30\n2 32\n2 38\n3 6\n3 8\n3 13\n3 50\n4 5\n4 14\n4 21\n4 35\n4 40\n5 20\n5 40\n5 48\n6 12\n6 43\n7 31\n7 38\n8 19\n8 30\n8 51\n9 20\n9 39\n10 47\n11 28\n11 55\n12 34\n12 41\n13 31\n14 55\n15 32\n15 41\n16 20\n16 28\n16 33\n16 39\n17 23\n17 24\n17 30\n18 20\n18 55\n19 32\n19 42\n19 54\n20 29\n21 35\n21 53\n22 28\n22 35\n22 45\n22 56\n23 25\n23 41\n24 25\n24 34\n24 38\n24 41\n24 42\n24 50\n26 43\n26 44\n27 28\n27 35\n27 47\n27 49\n28 40\n28 45\n30 41\n31 34\n31 38\n35 37\n35 49\n36 38\n36 52\n37 47\n37 56\n38 43\n39 49\n41 50\n42 43\n42 44\n42 54\n43 44\n45 47\n45 53\n46 48\n47 48\n48 49\n48 56\n49 56\n51 54\n53 56\n55 56\n45 16\n55 46\n30 13\n49 21\n29 39\n5 18\n33 46\n30 13\n56 46\n5 48\n6 38\n41 34\n17 25\n13 52\n9 10\n10 16\n32 12\n53 4\n39 49\n13 34\n41 34\n37 28\n2 50\n1 5\n38 47\n6 33\n15 27\n56 44\n3 56\n53 8\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n"
    }
  ],
  "reference": {
    "py": "ref/py/uf_connect.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺をすべて unite してから same(a,b) を判定する。"
    },
    {
      "level": 2,
      "text": "経路圧縮 + サイズ（またはランク）併合で高速化。"
    },
    {
      "level": 3,
      "text": "入力は 1-indexed。0-index と取り違えないこと。"
    }
  ],
  "distractors": [
    {
      "code": "NO_PATH_COMPRESSION",
      "desc": "経路圧縮なしで find が遅い"
    },
    {
      "code": "UNION_BY_RANK_BUG",
      "desc": "小を大にぶら下げる条件を逆にしてしまう"
    },
    {
      "code": "INDEX_BASE_MISMATCH",
      "desc": "1-indexed/0-indexed の取り違え"
    },
    {
      "code": "DELAY_UNION",
      "desc": "クエリ処理後に union してしまう順序ミス"
    }
  ],
  "witness": {
    "yes_count_t1": 35,
    "no_count_t1": 36,
    "yes_count_t2": 24,
    "no_count_t2": 6
  },
  "difficulty": {
    "score": 0.35,
    "basis": "DSU basics with path compression"
  },
  "tags": [
    "dsu",
    "graph",
    "beginner"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}