{
  "id": "MST_20250920_00021",
  "version": "1.0",
  "lang": "ja",
  "task_family": "mst_kruskal",
  "answer_type": "int",
  "task": "mst_kruskal",
  "statement_ja": "重み付き無向グラフの最小全域木の重み合計を求めよ。連結でない場合は -1。",
  "io_spec": {
    "input": "n m\\n(u v w)×m（1-indexed）",
    "output": "MST重み合計または -1"
  },
  "instance": {
    "seed": 21,
    "template_id": "MST_T1",
    "params": {
      "n": 47
    }
  },
  "tests": [
    {
      "in": "47 125\n6 18 243\n15 30 932\n26 30 277\n16 29 827\n13 42 545\n16 38 978\n5 10 90\n18 44 240\n20 38 485\n22 35 984\n34 37 825\n9 17 447\n8 18 979\n17 30 725\n27 34 968\n2 32 800\n33 47 546\n11 44 506\n29 34 282\n14 15 330\n23 36 893\n11 16 581\n27 36 38\n41 44 85\n3 8 82\n29 36 229\n31 33 675\n9 12 319\n4 25 20\n9 21 746\n14 35 152\n23 47 499\n1 10 360\n36 41 550\n25 29 335\n1 3 958\n1 30 832\n11 41 2\n4 11 921\n7 46 357\n8 20 932\n1 14 31\n30 47 605\n29 33 670\n26 43 616\n15 43 906\n31 39 165\n23 35 569\n14 32 678\n1 7 903\n2 6 267\n17 25 703\n27 35 862\n19 31 396\n8 31 215\n17 43 547\n2 24 78\n32 43 353\n14 25 673\n17 18 918\n17 27 19\n10 21 29\n27 37 381\n3 46 664\n9 41 557\n11 38 853\n2 35 189\n6 17 112\n3 9 578\n6 26 944\n32 45 159\n7 25 725\n4 17 385\n21 33 289\n1 2 10\n20 46 363\n8 26 77\n34 45 865\n37 41 439\n30 44 878\n13 25 120\n3 11 566\n6 28 582\n4 10 956\n43 47 649\n12 23 395\n26 40 378\n16 39 782\n4 19 993\n18 36 674\n1 4 465\n17 22 262\n20 39 466\n10 16 404\n17 31 998\n22 45 621\n5 47 90\n6 12 847\n9 45 729\n13 27 410\n33 39 867\n18 29 349\n24 45 383\n2 5 734\n9 20 740\n9 29 916\n6 14 44\n24 29 182\n41 45 101\n42 44 849\n1 36 703\n26 35 829\n9 13 161\n9 22 737\n37 38 918\n4 44 749\n24 31 788\n16 36 577\n16 45 837\n5 8 184\n7 42 270\n5 26 483\n34 44 799\n13 15 846\n5 44 295\n",
      "out": "9948\n"
    },
    {
      "in": "47 125\n6 18 68\n15 30 50\n26 30 486\n16 29 165\n13 42 633\n16 38 25\n5 10 51\n18 44 65\n20 38 52\n22 35 344\n34 37 51\n9 17 915\n8 18 51\n17 30 52\n27 34 418\n2 32 55\n33 47 240\n11 44 22\n29 34 995\n14 15 966\n23 36 56\n11 16 457\n27 36 481\n41 44 55\n3 8 34\n29 36 327\n31 33 58\n9 12 397\n4 25 388\n9 21 773\n14 35 373\n23 47 661\n1 10 56\n36 41 475\n25 29 193\n1 3 59\n1 30 299\n11 41 6\n4 11 697\n7 46 797\n8 20 60\n1 14 444\n30 47 879\n29 33 53\n26 43 55\n15 43 114\n31 39 445\n23 35 58\n14 32 225\n1 7 947\n2 6 615\n17 25 147\n27 35 998\n19 31 984\n8 31 265\n17 43 51\n2 24 462\n32 43 947\n14 25 461\n17 18 389\n17 27 57\n10 21 769\n27 37 663\n3 46 55\n9 41 879\n11 38 637\n2 35 116\n6 17 715\n3 9 289\n6 26 819\n32 45 58\n7 25 387\n4 17 59\n21 33 60\n1 2 55\n20 46 165\n8 26 57\n34 45 470\n37 41 958\n30 44 705\n13 25 57\n3 11 444\n6 28 53\n4 10 772\n43 47 258\n12 23 54\n26 40 136\n16 39 52\n4 19 616\n18 36 58\n1 4 379\n17 22 294\n20 39 575\n10 16 659\n17 31 653\n22 45 795\n5 47 60\n6 12 120\n9 45 57\n13 27 58\n33 39 663\n18 29 785\n24 45 585\n2 5 851\n9 20 226\n9 29 334\n6 14 58\n24 29 239\n41 45 784\n42 44 51\n1 36 152\n26 35 59\n9 13 59\n9 22 918\n37 38 99\n4 44 170\n24 31 382\n16 36 56\n16 45 51\n5 8 50\n7 42 125\n5 26 350\n34 44 53\n13 15 55\n5 44 261\n",
      "out": "3652\n"
    }
  ],
  "reference": {
    "py": "ref/py/mst_kruskal.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺を重み昇順に並べ、サイクルを作らないものだけ採用（Kruskal）。"
    },
    {
      "level": 2,
      "text": "サイクル判定にUnion-Findを使う。採用数が n-1 に達したら終了。"
    },
    {
      "level": 3,
      "text": "重みが同じでも動くように比較は w のみ。"
    }
  ],
  "distractors": [
    {
      "code": "WRONG_SORT_KEY",
      "desc": "w以外でソート"
    },
    {
      "code": "CYCLE_FILTER_MISS",
      "desc": "サイクル検出を忘れる"
    },
    {
      "code": "UNION_ORDER_BUG",
      "desc": "併合の大小関係を誤る"
    }
  ],
  "witness": {
    "mst_weight_t1": 9948,
    "chosen_edges_t1": [
      37,
      74,
      60,
      28,
      61,
      41,
      22,
      106,
      76,
      56,
      24,
      23,
      6,
      96,
      108,
      67,
      80,
      30,
      70,
      112,
      46,
      107,
      119,
      54,
      7,
      0,
      91,
      120,
      2,
      18,
      73,
      124,
      27,
      19,
      34,
      57,
      39,
      75,
      86,
      62,
      85,
      53,
      93,
      92,
      8,
      82
    ],
    "mst_weight_t2": 3652,
    "chosen_edges_t2": [
      37,
      17,
      5,
      24,
      119,
      1,
      6,
      12,
      118,
      55,
      10,
      109,
      87,
      13,
      8,
      82,
      43,
      122,
      85,
      74,
      15,
      63,
      123,
      44,
      32,
      117,
      20,
      76,
      98,
      80,
      60,
      106,
      89,
      47,
      26,
      72,
      96,
      73,
      7,
      0,
      120,
      86,
      3,
      107,
      91,
      88
    ]
  },
  "difficulty": {
    "score": 0.45,
    "basis": "Kruskal + DSU"
  },
  "tags": [
    "graph",
    "mst",
    "dsu",
    "intermediate"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}