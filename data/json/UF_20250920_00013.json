{
  "id": "UF_20250920_00013",
  "version": "1.0",
  "lang": "ja",
  "task_family": "union_find_connectivity",
  "answer_type": "lines",
  "task": "uf_connect",
  "statement_ja": "無向グラフ G(V,E) と Q 個の質問 (a,b) が与えられる。Union-Find を用いて、a と b が同じ連結成分かを判定せよ（同じなら 1、異なるなら 0）。",
  "io_spec": {
    "input": "n m Q\\n(u v)×m\\n(a b)×Q（すべて 1-indexed）",
    "output": "各クエリに対する 1/0（改行区切り）"
  },
  "instance": {
    "seed": 13,
    "template_id": "UF_T1",
    "params": {
      "n": 41
    }
  },
  "tests": [
    {
      "in": "41 59 52\n1 4\n1 7\n1 22\n1 30\n2 6\n2 13\n2 30\n2 41\n3 25\n3 26\n3 31\n4 17\n4 22\n4 40\n5 25\n6 14\n6 17\n8 20\n8 33\n8 36\n8 39\n9 34\n9 37\n10 15\n10 27\n11 19\n11 34\n12 14\n12 17\n13 17\n14 22\n15 19\n15 21\n15 23\n15 37\n16 33\n16 39\n17 30\n18 31\n18 39\n19 21\n20 25\n20 31\n21 24\n21 28\n21 34\n21 35\n23 35\n24 27\n24 32\n25 29\n25 31\n25 36\n26 39\n27 34\n31 38\n31 39\n34 37\n38 39\n41 2\n3 8\n40 12\n2 14\n40 6\n5 18\n4 14\n31 5\n27 37\n7 17\n22 17\n35 10\n39 20\n33 18\n35 19\n40 6\n32 23\n20 8\n36 20\n22 40\n18 33\n5 39\n14 4\n12 22\n38 36\n37 32\n24 17\n18 9\n22 19\n18 37\n19 8\n25 13\n5 2\n17 26\n31 1\n28 17\n36 19\n36 17\n4 34\n29 1\n21 36\n41 21\n20 6\n36 34\n8 24\n28 29\n12 37\n7 26\n7 29\n32 36\n1 28\n12 37\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    },
    {
      "in": "41 70 55\n1 7\n1 14\n1 22\n1 30\n1 40\n2 4\n2 6\n2 12\n2 14\n2 22\n3 18\n3 33\n3 36\n4 13\n4 30\n5 31\n5 38\n6 12\n6 41\n7 22\n8 18\n8 26\n8 29\n8 33\n8 36\n9 11\n9 21\n9 23\n9 27\n9 28\n10 11\n10 28\n10 37\n11 24\n11 37\n12 22\n13 17\n13 40\n15 19\n15 23\n15 27\n15 35\n16 26\n16 36\n17 40\n18 31\n18 33\n18 36\n19 37\n20 31\n20 39\n21 23\n21 34\n21 37\n22 40\n22 41\n23 37\n24 34\n25 26\n25 38\n26 31\n26 39\n27 28\n27 32\n27 34\n29 31\n30 40\n31 38\n32 35\n36 39\n19 11\n32 34\n27 19\n2 22\n25 31\n30 6\n38 18\n5 16\n40 7\n10 24\n24 9\n31 8\n23 37\n41 13\n1 6\n34 24\n37 35\n11 21\n29 31\n10 11\n18 20\n39 38\n7 6\n14 30\n22 1\n11 19\n38 18\n20 36\n33 18\n5 36\n33 25\n7 30\n11 9\n36 8\n35 32\n40 30\n1 14\n39 8\n25 5\n16 5\n32 19\n31 20\n16 33\n4 30\n18 15\n4 9\n21 22\n6 20\n29 30\n7 37\n10 29\n6 21\n20 27\n32 7\n22 9\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    }
  ],
  "reference": {
    "py": "ref/py/uf_connect.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺をすべて unite してから same(a,b) を判定する。"
    },
    {
      "level": 2,
      "text": "経路圧縮 + サイズ（またはランク）併合で高速化。"
    },
    {
      "level": 3,
      "text": "入力は 1-indexed。0-index と取り違えないこと。"
    }
  ],
  "distractors": [
    {
      "code": "NO_PATH_COMPRESSION",
      "desc": "経路圧縮なしで find が遅い"
    },
    {
      "code": "UNION_BY_RANK_BUG",
      "desc": "小を大にぶら下げる条件を逆にしてしまう"
    },
    {
      "code": "INDEX_BASE_MISMATCH",
      "desc": "1-indexed/0-indexed の取り違え"
    },
    {
      "code": "DELAY_UNION",
      "desc": "クエリ処理後に union してしまう順序ミス"
    }
  ],
  "witness": {
    "yes_count_t1": 26,
    "no_count_t1": 26,
    "yes_count_t2": 44,
    "no_count_t2": 11
  },
  "difficulty": {
    "score": 0.35,
    "basis": "DSU basics with path compression"
  },
  "tags": [
    "dsu",
    "graph",
    "beginner"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}