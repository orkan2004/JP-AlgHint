{
  "id": "UF_20250920_00025",
  "version": "1.0",
  "lang": "ja",
  "task_family": "union_find_connectivity",
  "answer_type": "lines",
  "task": "uf_connect",
  "statement_ja": "無向グラフ G(V,E) と Q 個の質問 (a,b) が与えられる。Union-Find を用いて、a と b が同じ連結成分かを判定せよ（同じなら 1、異なるなら 0）。",
  "io_spec": {
    "input": "n m Q\\n(u v)×m\\n(a b)×Q（すべて 1-indexed）",
    "output": "各クエリに対する 1/0（改行区切り）"
  },
  "instance": {
    "seed": 25,
    "template_id": "UF_T1",
    "params": {
      "n": 49
    }
  },
  "tests": [
    {
      "in": "49 69 66\n1 10\n1 20\n1 38\n1 39\n2 8\n2 24\n2 48\n3 5\n3 28\n3 34\n3 36\n4 15\n4 34\n6 14\n6 17\n6 31\n7 29\n7 40\n8 24\n8 40\n8 48\n9 19\n9 38\n10 22\n11 16\n11 44\n11 49\n12 42\n13 14\n13 26\n13 47\n14 35\n15 44\n16 28\n16 34\n16 49\n17 21\n17 26\n17 37\n18 19\n18 39\n19 38\n19 41\n20 22\n23 42\n24 45\n24 46\n25 41\n26 30\n26 35\n27 34\n29 45\n29 46\n30 35\n31 47\n32 38\n32 41\n33 36\n34 36\n35 37\n37 43\n38 39\n39 41\n40 42\n40 46\n40 48\n42 45\n43 47\n44 49\n47 31\n20 18\n25 19\n49 36\n8 12\n19 38\n27 34\n5 28\n18 19\n13 30\n48 2\n18 1\n43 6\n12 46\n21 31\n22 10\n19 39\n42 46\n9 38\n6 35\n2 46\n25 39\n42 12\n25 10\n8 12\n45 46\n48 23\n47 35\n46 45\n29 24\n8 23\n2 23\n5 11\n13 15\n38 11\n46 36\n8 5\n11 41\n45 22\n27 13\n19 26\n7 17\n41 37\n11 40\n17 42\n46 17\n48 43\n8 18\n43 36\n33 22\n44 46\n47 25\n15 40\n4 41\n19 44\n2 33\n47 12\n23 9\n46 9\n45 37\n23 32\n10 47\n27 17\n39 37\n6 5\n23 43\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    },
    {
      "in": "49 86 54\n1 22\n1 38\n1 41\n2 8\n3 11\n3 49\n4 5\n4 11\n4 15\n4 34\n4 36\n5 36\n5 44\n6 21\n6 30\n6 31\n7 8\n7 12\n7 24\n7 42\n8 23\n8 40\n8 42\n8 46\n9 20\n9 22\n9 32\n9 39\n9 41\n10 20\n10 39\n11 27\n12 40\n12 48\n13 14\n13 26\n13 31\n13 47\n15 16\n15 27\n15 28\n15 33\n15 49\n16 44\n16 49\n17 30\n17 35\n17 47\n18 25\n18 32\n19 20\n19 25\n19 41\n20 39\n21 35\n21 37\n22 25\n22 41\n23 40\n23 46\n24 45\n25 38\n25 41\n26 30\n26 31\n26 47\n28 34\n28 36\n28 44\n29 40\n29 46\n29 48\n30 43\n31 35\n31 37\n31 47\n33 34\n34 44\n35 47\n36 44\n36 49\n37 47\n38 39\n39 41\n40 48\n42 45\n8 48\n13 35\n10 25\n36 34\n46 23\n16 11\n21 6\n49 3\n26 30\n17 30\n41 38\n48 45\n20 38\n42 7\n38 18\n4 33\n32 25\n25 20\n35 43\n44 27\n33 28\n23 45\n8 2\n44 5\n47 26\n13 37\n39 32\n17 26\n11 3\n29 23\n23 7\n37 14\n48 23\n27 5\n42 8\n8 42\n38 18\n8 23\n6 30\n24 8\n7 29\n49 34\n36 34\n9 21\n12 27\n20 28\n37 42\n35 39\n8 34\n11 1\n27 10\n15 10\n36 23\n45 22\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    }
  ],
  "reference": {
    "py": "ref/py/uf_connect.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺をすべて unite してから same(a,b) を判定する。"
    },
    {
      "level": 2,
      "text": "経路圧縮 + サイズ（またはランク）併合で高速化。"
    },
    {
      "level": 3,
      "text": "入力は 1-indexed。0-index と取り違えないこと。"
    }
  ],
  "distractors": [
    {
      "code": "NO_PATH_COMPRESSION",
      "desc": "経路圧縮なしで find が遅い"
    },
    {
      "code": "UNION_BY_RANK_BUG",
      "desc": "小を大にぶら下げる条件を逆にしてしまう"
    },
    {
      "code": "INDEX_BASE_MISMATCH",
      "desc": "1-indexed/0-indexed の取り違え"
    },
    {
      "code": "DELAY_UNION",
      "desc": "クエリ処理後に union してしまう順序ミス"
    }
  ],
  "witness": {
    "yes_count_t1": 33,
    "no_count_t1": 33,
    "yes_count_t2": 43,
    "no_count_t2": 11
  },
  "difficulty": {
    "score": 0.35,
    "basis": "DSU basics with path compression"
  },
  "tags": [
    "dsu",
    "graph",
    "beginner"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}