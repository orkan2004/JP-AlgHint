{
  "id": "UF_20250920_00028",
  "version": "1.0",
  "lang": "ja",
  "task_family": "union_find_connectivity",
  "answer_type": "lines",
  "task": "uf_connect",
  "statement_ja": "無向グラフ G(V,E) と Q 個の質問 (a,b) が与えられる。Union-Find を用いて、a と b が同じ連結成分かを判定せよ（同じなら 1、異なるなら 0）。",
  "io_spec": {
    "input": "n m Q\\n(u v)×m\\n(a b)×Q（すべて 1-indexed）",
    "output": "各クエリに対する 1/0（改行区切り）"
  },
  "instance": {
    "seed": 28,
    "template_id": "UF_T1",
    "params": {
      "n": 43
    }
  },
  "tests": [
    {
      "in": "43 56 52\n1 9\n1 16\n2 19\n2 20\n2 25\n3 8\n4 28\n4 31\n5 22\n5 35\n6 32\n6 39\n6 41\n7 11\n7 24\n7 34\n7 36\n8 21\n8 35\n8 43\n9 20\n10 13\n10 26\n11 26\n11 27\n12 16\n12 20\n13 26\n13 34\n14 17\n14 38\n14 41\n15 32\n15 38\n15 39\n16 19\n16 25\n17 38\n17 42\n18 39\n18 41\n18 42\n21 22\n21 23\n21 28\n23 28\n23 35\n24 27\n25 30\n25 37\n26 27\n29 37\n30 37\n31 43\n33 38\n34 40\n2 9\n9 30\n29 2\n33 41\n32 33\n40 27\n40 10\n4 31\n37 9\n11 40\n22 5\n23 5\n28 35\n19 12\n34 24\n26 10\n4 3\n37 2\n4 22\n40 11\n23 43\n10 27\n29 25\n21 43\n27 10\n31 43\n8 40\n33 43\n6 21\n14 43\n8 32\n2 36\n42 5\n19 5\n10 12\n7 3\n8 41\n16 17\n18 1\n35 30\n19 17\n35 42\n35 40\n40 32\n30 34\n25 31\n31 41\n17 4\n12 26\n39 2\n17 9\n33 13\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    },
    {
      "in": "43 72 49\n1 2\n1 9\n1 19\n1 29\n1 30\n2 16\n2 20\n2 25\n3 8\n3 28\n3 43\n4 22\n4 28\n4 43\n5 23\n5 28\n5 43\n6 15\n6 18\n7 11\n7 27\n7 34\n7 36\n8 21\n8 35\n9 29\n9 30\n10 11\n10 26\n11 13\n11 24\n11 34\n12 19\n12 20\n12 29\n13 26\n13 40\n14 39\n14 41\n14 42\n15 17\n15 18\n15 32\n15 38\n15 39\n15 42\n16 20\n17 33\n18 33\n19 20\n21 43\n22 43\n23 28\n23 35\n23 43\n24 27\n24 36\n25 29\n25 37\n26 36\n26 40\n27 36\n28 31\n29 30\n31 43\n32 33\n32 38\n32 39\n32 41\n38 39\n38 41\n41 42\n39 14\n35 22\n17 15\n27 34\n13 24\n42 15\n9 19\n24 34\n1 16\n31 5\n34 7\n31 3\n27 7\n36 13\n30 25\n43 4\n28 5\n34 24\n15 39\n4 23\n38 15\n35 5\n37 2\n34 13\n9 20\n9 2\n43 35\n11 10\n15 38\n31 4\n43 23\n34 26\n23 22\n41 39\n41 17\n29 1\n5 21\n7 10\n17 15\n9 31\n40 35\n3 30\n18 7\n24 19\n12 21\n20 17\n8 10\n20 22\n4 37\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    }
  ],
  "reference": {
    "py": "ref/py/uf_connect.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺をすべて unite してから same(a,b) を判定する。"
    },
    {
      "level": 2,
      "text": "経路圧縮 + サイズ（またはランク）併合で高速化。"
    },
    {
      "level": 3,
      "text": "入力は 1-indexed。0-index と取り違えないこと。"
    }
  ],
  "distractors": [
    {
      "code": "NO_PATH_COMPRESSION",
      "desc": "経路圧縮なしで find が遅い"
    },
    {
      "code": "UNION_BY_RANK_BUG",
      "desc": "小を大にぶら下げる条件を逆にしてしまう"
    },
    {
      "code": "INDEX_BASE_MISMATCH",
      "desc": "1-indexed/0-indexed の取り違え"
    },
    {
      "code": "DELAY_UNION",
      "desc": "クエリ処理後に union してしまう順序ミス"
    }
  ],
  "witness": {
    "yes_count_t1": 26,
    "no_count_t1": 26,
    "yes_count_t2": 39,
    "no_count_t2": 10
  },
  "difficulty": {
    "score": 0.35,
    "basis": "DSU basics with path compression"
  },
  "tags": [
    "dsu",
    "graph",
    "beginner"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}