{
  "id": "UF_20250920_00022",
  "version": "1.0",
  "lang": "ja",
  "task_family": "union_find_connectivity",
  "answer_type": "lines",
  "task": "uf_connect",
  "statement_ja": "無向グラフ G(V,E) と Q 個の質問 (a,b) が与えられる。Union-Find を用いて、a と b が同じ連結成分かを判定せよ（同じなら 1、異なるなら 0）。",
  "io_spec": {
    "input": "n m Q\\n(u v)×m\\n(a b)×Q（すべて 1-indexed）",
    "output": "各クエリに対する 1/0（改行区切り）"
  },
  "instance": {
    "seed": 22,
    "template_id": "UF_T1",
    "params": {
      "n": 23
    }
  },
  "tests": [
    {
      "in": "23 30 43\n1 10\n2 8\n3 5\n3 17\n3 18\n4 10\n5 12\n5 16\n6 7\n6 8\n6 14\n7 11\n7 14\n7 21\n7 23\n8 11\n8 22\n9 11\n9 14\n9 22\n10 16\n10 17\n10 19\n11 13\n15 16\n15 19\n16 18\n20 23\n21 22\n21 23\n14 22\n17 18\n11 14\n1 3\n6 8\n12 18\n16 17\n11 21\n18 16\n17 3\n20 8\n4 3\n2 11\n21 14\n9 8\n20 8\n16 19\n1 16\n17 12\n4 12\n9 2\n4 21\n1 2\n14 4\n20 1\n4 23\n9 15\n23 16\n14 10\n18 11\n8 12\n17 11\n5 9\n22 5\n4 14\n23 5\n13 5\n18 21\n8 18\n6 15\n17 2\n19 2\n15 6\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    },
    {
      "in": "23 39 46\n1 3\n1 4\n1 5\n1 10\n1 15\n1 17\n1 18\n2 8\n2 21\n3 5\n3 12\n3 17\n4 5\n5 16\n6 8\n6 11\n6 21\n7 8\n7 13\n7 21\n7 22\n8 11\n8 20\n8 21\n9 21\n10 17\n10 18\n10 19\n11 14\n11 21\n12 16\n14 20\n14 21\n17 18\n18 19\n20 22\n20 23\n21 22\n21 23\n23 14\n16 12\n17 19\n2 6\n16 18\n14 13\n1 4\n2 20\n22 8\n10 4\n15 16\n8 7\n4 17\n5 4\n4 1\n5 3\n4 1\n9 8\n18 19\n23 9\n16 12\n15 19\n20 2\n23 13\n17 16\n13 7\n6 11\n1 15\n23 7\n14 21\n5 3\n10 16\n9 20\n14 6\n5 15\n16 17\n7 12\n11 5\n9 1\n19 9\n9 5\n1 8\n13 19\n12 21\n13 1\n22 17\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    }
  ],
  "reference": {
    "py": "ref/py/uf_connect.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺をすべて unite してから same(a,b) を判定する。"
    },
    {
      "level": 2,
      "text": "経路圧縮 + サイズ（またはランク）併合で高速化。"
    },
    {
      "level": 3,
      "text": "入力は 1-indexed。0-index と取り違えないこと。"
    }
  ],
  "distractors": [
    {
      "code": "NO_PATH_COMPRESSION",
      "desc": "経路圧縮なしで find が遅い"
    },
    {
      "code": "UNION_BY_RANK_BUG",
      "desc": "小を大にぶら下げる条件を逆にしてしまう"
    },
    {
      "code": "INDEX_BASE_MISMATCH",
      "desc": "1-indexed/0-indexed の取り違え"
    },
    {
      "code": "DELAY_UNION",
      "desc": "クエリ処理後に union してしまう順序ミス"
    }
  ],
  "witness": {
    "yes_count_t1": 21,
    "no_count_t1": 22,
    "yes_count_t2": 36,
    "no_count_t2": 10
  },
  "difficulty": {
    "score": 0.35,
    "basis": "DSU basics with path compression"
  },
  "tags": [
    "dsu",
    "graph",
    "beginner"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}