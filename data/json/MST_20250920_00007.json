{
  "id": "MST_20250920_00007",
  "version": "1.0",
  "lang": "ja",
  "task_family": "mst_kruskal",
  "answer_type": "int",
  "task": "mst_kruskal",
  "statement_ja": "重み付き無向グラフの最小全域木の重み合計を求めよ。連結でない場合は -1。",
  "io_spec": {
    "input": "n m\\n(u v w)×m（1-indexed）",
    "output": "MST重み合計または -1"
  },
  "instance": {
    "seed": 7,
    "template_id": "MST_T1",
    "params": {
      "n": 35
    }
  },
  "tests": [
    {
      "in": "35 99\n4 9 718\n5 10 373\n3 22 936\n14 22 336\n23 34 422\n9 26 509\n24 35 36\n18 28 964\n3 15 12\n14 24 264\n2 4 961\n4 23 420\n14 33 816\n9 28 431\n18 21 752\n3 17 819\n5 23 895\n9 21 376\n13 21 235\n12 13 552\n22 23 347\n31 35 734\n1 3 244\n8 27 62\n19 27 358\n7 16 966\n29 31 680\n5 9 331\n23 24 274\n3 21 798\n1 5 425\n19 20 421\n13 16 973\n10 26 20\n24 25 117\n10 35 90\n25 33 629\n2 31 383\n26 34 97\n5 11 882\n4 13 633\n22 27 625\n23 35 352\n1 7 97\n2 6 600\n19 31 382\n2 33 330\n25 35 379\n20 23 873\n12 19 404\n6 33 133\n1 9 842\n19 24 422\n8 24 606\n1 18 142\n5 34 151\n15 20 51\n13 32 224\n15 29 367\n4 8 778\n4 26 740\n1 2 386\n10 14 788\n27 30 882\n17 29 215\n10 23 88\n11 22 842\n2 19 853\n19 35 657\n9 34 849\n18 27 294\n8 10 188\n17 22 867\n11 15 304\n17 31 111\n8 28 133\n6 12 426\n6 21 50\n26 33 154\n7 29 290\n18 29 797\n3 34 293\n2 14 66\n2 23 85\n6 14 108\n6 23 885\n16 25 175\n16 34 567\n18 31 619\n21 30 779\n10 11 128\n14 27 34\n28 35 609\n9 31 919\n13 31 579\n26 28 100\n21 23 199\n3 29 242\n13 15 783\n",
      "out": "6034\n"
    },
    {
      "in": "35 99\n4 9 60\n5 10 364\n3 22 318\n14 22 648\n23 34 54\n9 26 982\n24 35 59\n18 28 56\n3 15 880\n14 24 56\n2 4 808\n4 23 288\n14 33 917\n9 28 584\n18 21 56\n3 17 54\n5 23 54\n9 21 463\n13 21 180\n12 13 436\n22 23 57\n31 35 857\n1 3 54\n8 27 852\n19 27 58\n7 16 760\n29 31 52\n5 9 50\n23 24 274\n3 21 51\n1 5 55\n19 20 579\n13 16 606\n10 26 50\n24 25 559\n10 35 352\n25 33 782\n2 31 601\n26 34 58\n5 11 741\n4 13 578\n22 27 54\n23 35 54\n1 7 59\n2 6 420\n19 31 477\n2 33 52\n25 35 949\n20 23 168\n12 19 56\n6 33 843\n1 9 834\n19 24 145\n8 24 563\n1 18 381\n5 34 58\n15 20 840\n13 32 400\n15 29 55\n4 8 682\n4 26 716\n1 2 15\n10 14 52\n27 30 60\n17 29 58\n10 23 417\n11 22 936\n2 19 54\n19 35 822\n9 34 50\n18 27 532\n8 10 59\n17 22 772\n11 15 567\n17 31 916\n8 28 293\n6 12 390\n6 21 517\n26 33 424\n7 29 56\n18 29 85\n3 34 14\n2 14 28\n2 23 52\n6 14 662\n6 23 811\n16 25 144\n16 34 54\n18 31 331\n21 30 58\n10 11 542\n14 27 230\n28 35 57\n9 31 854\n13 31 286\n26 28 59\n21 23 396\n3 29 762\n13 15 57\n",
      "out": "3118\n"
    }
  ],
  "reference": {
    "py": "ref/py/mst_kruskal.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺を重み昇順に並べ、サイクルを作らないものだけ採用（Kruskal）。"
    },
    {
      "level": 2,
      "text": "サイクル判定にUnion-Findを使う。採用数が n-1 に達したら終了。"
    },
    {
      "level": 3,
      "text": "重みが同じでも動くように比較は w のみ。"
    }
  ],
  "distractors": [
    {
      "code": "WRONG_SORT_KEY",
      "desc": "w以外でソート"
    },
    {
      "code": "CYCLE_FILTER_MISS",
      "desc": "サイクル検出を忘れる"
    },
    {
      "code": "UNION_ORDER_BUG",
      "desc": "併合の大小関係を誤る"
    }
  ],
  "witness": {
    "mst_weight_t1": 6034,
    "chosen_edges_t1": [
      8,
      33,
      91,
      6,
      77,
      56,
      23,
      82,
      83,
      65,
      35,
      43,
      38,
      95,
      84,
      74,
      34,
      90,
      50,
      54,
      55,
      86,
      64,
      57,
      18,
      97,
      22,
      81,
      27,
      3,
      24,
      49,
      11,
      89
    ],
    "mst_weight_t2": 3118,
    "chosen_edges_t2": [
      81,
      61,
      82,
      27,
      69,
      33,
      29,
      83,
      46,
      62,
      26,
      22,
      67,
      15,
      87,
      41,
      42,
      58,
      79,
      49,
      9,
      14,
      7,
      98,
      20,
      64,
      89,
      71,
      0,
      86,
      48,
      76,
      57,
      90
    ]
  },
  "difficulty": {
    "score": 0.45,
    "basis": "Kruskal + DSU"
  },
  "tags": [
    "graph",
    "mst",
    "dsu",
    "intermediate"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}