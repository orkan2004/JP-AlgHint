{
  "id": "MST_20250920_00003",
  "version": "1.0",
  "lang": "ja",
  "task_family": "mst_kruskal",
  "answer_type": "int",
  "task": "mst_kruskal",
  "statement_ja": "重み付き無向グラフの最小全域木の重み合計を求めよ。連結でない場合は -1。",
  "io_spec": {
    "input": "n m\\n(u v w)×m（1-indexed）",
    "output": "MST重み合計または -1"
  },
  "instance": {
    "seed": 3,
    "template_id": "MST_T1",
    "params": {
      "n": 41
    }
  },
  "tests": [
    {
      "in": "41 114\n7 17 830\n16 29 695\n26 39 234\n20 38 436\n22 35 440\n9 17 842\n23 34 572\n12 34 440\n11 14 579\n1 15 532\n7 10 47\n18 37 582\n7 37 842\n5 30 981\n1 8 212\n4 41 896\n10 20 751\n1 17 237\n15 16 802\n1 26 720\n13 28 918\n30 41 248\n24 37 955\n25 36 647\n3 17 354\n5 14 821\n22 30 522\n21 32 704\n20 33 927\n31 33 424\n9 21 111\n12 38 786\n10 22 590\n1 19 431\n15 18 762\n30 34 860\n7 14 650\n2 27 854\n16 26 402\n11 39 693\n16 35 312\n12 13 584\n5 7 965\n22 32 657\n23 40 310\n1 12 482\n10 24 555\n28 39 272\n11 32 448\n4 11 188\n22 25 874\n21 27 232\n14 21 507\n12 24 292\n39 41 8\n5 18 72\n1 14 401\n28 41 172\n10 35 296\n22 27 58\n12 26 590\n31 39 109\n21 38 792\n2 6 144\n8 22 764\n34 41 178\n11 18 162\n6 24 482\n13 39 557\n5 13 879\n17 18 431\n9 23 411\n27 37 376\n9 41 143\n2 35 656\n13 32 919\n3 9 754\n1 2 706\n2 10 705\n10 23 85\n14 39 647\n8 35 782\n6 28 765\n7 27 70\n18 27 732\n26 40 34\n6 37 8\n16 39 623\n15 40 249\n4 28 208\n1 4 768\n2 3 797\n22 36 647\n9 18 400\n28 31 780\n5 38 120\n15 24 29\n26 33 538\n18 38 52\n36 37 942\n7 13 502\n13 29 914\n4 5 375\n14 27 710\n37 38 621\n2 16 142\n9 31 942\n15 19 999\n21 23 119\n29 39 66\n9 15 704\n5 26 422\n11 30 470\n27 41 206\n",
      "out": "9006\n"
    },
    {
      "in": "41 114\n7 17 610\n16 29 335\n26 39 646\n20 38 51\n22 35 283\n9 17 868\n23 34 917\n12 34 52\n11 14 60\n1 15 274\n7 10 469\n18 37 702\n7 37 58\n5 30 51\n1 8 168\n4 41 56\n10 20 622\n1 17 812\n15 16 360\n1 26 92\n13 28 816\n30 41 53\n24 37 51\n25 36 56\n3 17 52\n5 14 200\n22 30 54\n21 32 863\n20 33 916\n31 33 57\n9 21 525\n12 38 814\n10 22 55\n1 19 55\n15 18 620\n30 34 835\n7 14 155\n2 27 840\n16 26 60\n11 39 216\n16 35 57\n12 13 747\n5 7 854\n22 32 52\n23 40 983\n1 12 722\n10 24 60\n28 39 474\n11 32 202\n4 11 53\n22 25 179\n21 27 363\n14 21 408\n12 24 58\n39 41 55\n5 18 848\n1 14 837\n28 41 943\n10 35 736\n22 27 211\n12 26 923\n31 39 437\n21 38 617\n2 6 54\n8 22 52\n34 41 280\n11 18 969\n6 24 51\n13 39 667\n5 13 59\n17 18 958\n9 23 458\n27 37 886\n9 41 548\n2 35 554\n13 32 59\n3 9 946\n1 2 702\n2 10 619\n10 23 55\n14 39 58\n8 35 39\n6 28 568\n7 27 987\n18 27 55\n26 40 50\n6 37 81\n16 39 715\n15 40 763\n4 28 722\n1 4 169\n2 3 759\n22 36 245\n9 18 127\n28 31 768\n5 38 60\n15 24 56\n26 33 51\n18 38 869\n36 37 294\n7 13 954\n13 29 50\n4 5 215\n14 27 483\n37 38 763\n2 16 57\n9 31 100\n15 19 804\n21 23 55\n29 39 982\n9 15 422\n5 26 725\n11 30 449\n27 41 646\n",
      "out": "3420\n"
    }
  ],
  "reference": {
    "py": "ref/py/mst_kruskal.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺を重み昇順に並べ、サイクルを作らないものだけ採用（Kruskal）。"
    },
    {
      "level": 2,
      "text": "サイクル判定にUnion-Findを使う。採用数が n-1 に達したら終了。"
    },
    {
      "level": 3,
      "text": "重みが同じでも動くように比較は w のみ。"
    }
  ],
  "distractors": [
    {
      "code": "WRONG_SORT_KEY",
      "desc": "w以外でソート"
    },
    {
      "code": "CYCLE_FILTER_MISS",
      "desc": "サイクル検出を忘れる"
    },
    {
      "code": "UNION_ORDER_BUG",
      "desc": "併合の大小関係を誤る"
    }
  ],
  "witness": {
    "mst_weight_t1": 9006,
    "chosen_edges_t1": [
      86,
      54,
      96,
      85,
      10,
      98,
      59,
      109,
      83,
      55,
      79,
      61,
      30,
      108,
      105,
      73,
      63,
      66,
      57,
      65,
      49,
      89,
      14,
      2,
      17,
      21,
      88,
      53,
      58,
      40,
      24,
      56,
      29,
      33,
      70,
      3,
      48,
      100,
      92,
      23
    ],
    "mst_weight_t2": 3420,
    "chosen_edges_t2": [
      81,
      101,
      85,
      13,
      67,
      3,
      22,
      97,
      24,
      64,
      7,
      43,
      49,
      21,
      63,
      26,
      33,
      32,
      79,
      84,
      108,
      54,
      15,
      96,
      23,
      105,
      40,
      29,
      12,
      53,
      80,
      69,
      95,
      38,
      19,
      106,
      93,
      50,
      47,
      0
    ]
  },
  "difficulty": {
    "score": 0.45,
    "basis": "Kruskal + DSU"
  },
  "tags": [
    "graph",
    "mst",
    "dsu",
    "intermediate"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}