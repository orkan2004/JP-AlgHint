{
  "id": "MST_20250920_00016",
  "version": "1.0",
  "lang": "ja",
  "task_family": "mst_kruskal",
  "answer_type": "int",
  "task": "mst_kruskal",
  "statement_ja": "重み付き無向グラフの最小全域木の重み合計を求めよ。連結でない場合は -1。",
  "io_spec": {
    "input": "n m\\n(u v w)×m（1-indexed）",
    "output": "MST重み合計または -1"
  },
  "instance": {
    "seed": 16,
    "template_id": "MST_T1",
    "params": {
      "n": 27
    }
  },
  "tests": [
    {
      "in": "27 73\n13 27 721\n6 15 883\n18 20 4\n20 23 196\n4 6 436\n4 12 633\n12 19 813\n5 10 967\n4 18 78\n14 22 159\n8 12 967\n9 11 103\n5 22 49\n10 12 812\n1 3 418\n17 24 361\n11 17 346\n11 14 681\n1 12 331\n9 23 6\n2 23 643\n13 23 372\n6 11 151\n2 20 147\n16 19 694\n2 26 437\n15 17 753\n6 20 784\n1 24 430\n4 5 724\n3 9 258\n20 25 401\n7 25 352\n12 21 849\n14 21 949\n5 18 46\n2 4 997\n1 2 548\n9 13 588\n3 27 346\n19 23 18\n19 20 324\n11 22 262\n10 20 412\n13 19 867\n6 7 24\n6 13 721\n10 26 783\n6 16 489\n15 22 304\n7 21 717\n16 27 188\n7 24 851\n20 21 273\n7 27 840\n3 8 763\n3 14 533\n1 25 398\n12 17 711\n14 17 926\n5 14 155\n3 20 682\n17 19 605\n8 16 698\n2 3 767\n5 26 516\n19 25 371\n5 20 385\n9 21 298\n11 21 812\n2 9 366\n1 16 410\n15 18 324\n",
      "out": "6053\n"
    },
    {
      "in": "27 73\n13 27 57\n6 15 54\n18 20 435\n20 23 54\n4 6 639\n4 12 519\n12 19 52\n5 10 28\n4 18 702\n14 22 68\n8 12 193\n9 11 528\n5 22 60\n10 12 56\n1 3 949\n17 24 288\n11 17 228\n11 14 334\n1 12 793\n9 23 972\n2 23 988\n13 23 52\n6 11 428\n2 20 952\n16 19 56\n2 26 51\n15 17 638\n6 20 56\n1 24 926\n4 5 57\n3 9 146\n20 25 272\n7 25 213\n12 21 357\n14 21 58\n5 18 129\n2 4 686\n1 2 53\n9 13 787\n3 27 654\n19 23 51\n19 20 687\n11 22 602\n10 20 413\n13 19 53\n6 7 734\n6 13 288\n10 26 954\n6 16 274\n15 22 614\n7 21 91\n16 27 59\n7 24 52\n20 21 228\n7 27 50\n3 8 55\n3 14 58\n1 25 59\n12 17 57\n14 17 60\n5 14 691\n3 20 60\n17 19 732\n8 16 56\n2 3 60\n5 26 54\n19 25 434\n5 20 947\n9 21 58\n11 21 749\n2 9 999\n1 16 339\n15 18 50\n",
      "out": "1572\n"
    }
  ],
  "reference": {
    "py": "ref/py/mst_kruskal.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺を重み昇順に並べ、サイクルを作らないものだけ採用（Kruskal）。"
    },
    {
      "level": 2,
      "text": "サイクル判定にUnion-Findを使う。採用数が n-1 に達したら終了。"
    },
    {
      "level": 3,
      "text": "重みが同じでも動くように比較は w のみ。"
    }
  ],
  "distractors": [
    {
      "code": "WRONG_SORT_KEY",
      "desc": "w以外でソート"
    },
    {
      "code": "CYCLE_FILTER_MISS",
      "desc": "サイクル検出を忘れる"
    },
    {
      "code": "UNION_ORDER_BUG",
      "desc": "併合の大小関係を誤る"
    }
  ],
  "witness": {
    "mst_weight_t1": 6053,
    "chosen_edges_t1": [
      2,
      19,
      40,
      45,
      35,
      12,
      8,
      11,
      23,
      22,
      60,
      51,
      3,
      30,
      53,
      49,
      18,
      39,
      16,
      32,
      15,
      21,
      57,
      43,
      25,
      63
    ],
    "mst_weight_t2": 1572,
    "chosen_edges_t2": [
      7,
      54,
      72,
      25,
      40,
      52,
      6,
      21,
      37,
      65,
      1,
      3,
      55,
      27,
      63,
      13,
      24,
      29,
      58,
      0,
      56,
      68,
      34,
      57,
      12,
      16
    ]
  },
  "difficulty": {
    "score": 0.45,
    "basis": "Kruskal + DSU"
  },
  "tags": [
    "graph",
    "mst",
    "dsu",
    "intermediate"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}