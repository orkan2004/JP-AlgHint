{
  "id": "UF_20250920_00009",
  "version": "1.0",
  "lang": "ja",
  "task_family": "union_find_connectivity",
  "answer_type": "lines",
  "task": "uf_connect",
  "statement_ja": "無向グラフ G(V,E) と Q 個の質問 (a,b) が与えられる。Union-Find を用いて、a と b が同じ連結成分かを判定せよ（同じなら 1、異なるなら 0）。",
  "io_spec": {
    "input": "n m Q\\n(u v)×m\\n(a b)×Q（すべて 1-indexed）",
    "output": "各クエリに対する 1/0（改行区切り）"
  },
  "instance": {
    "seed": 9,
    "template_id": "UF_T1",
    "params": {
      "n": 31
    }
  },
  "tests": [
    {
      "in": "31 41 59\n1 7\n1 10\n2 28\n2 29\n2 30\n3 11\n3 17\n3 23\n3 24\n4 6\n4 15\n5 18\n5 22\n5 23\n7 20\n8 12\n8 25\n9 26\n10 13\n10 20\n10 25\n11 22\n11 23\n12 13\n12 14\n12 25\n12 31\n15 16\n15 27\n16 27\n16 29\n17 18\n17 23\n18 26\n19 31\n21 27\n21 28\n23 26\n25 31\n27 28\n27 30\n7 8\n15 16\n8 25\n4 16\n8 10\n14 8\n27 29\n27 2\n29 27\n27 6\n2 27\n6 28\n5 24\n30 2\n22 5\n23 24\n4 27\n27 16\n9 22\n6 21\n15 21\n18 3\n5 11\n27 29\n21 15\n3 17\n9 26\n7 1\n2 4\n16 20\n26 20\n28 18\n28 17\n21 14\n10 9\n4 25\n30 5\n30 13\n7 4\n29 22\n9 16\n26 4\n28 13\n31 5\n10 9\n26 27\n2 24\n18 1\n30 25\n1 2\n26 30\n7 11\n6 19\n30 7\n10 24\n6 3\n11 16\n20 18\n10 2\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    },
    {
      "in": "31 54 59\n1 10\n1 14\n1 25\n1 31\n2 16\n2 21\n2 29\n3 5\n3 9\n3 23\n4 21\n4 28\n4 29\n5 11\n5 18\n5 24\n5 26\n6 16\n6 30\n7 10\n7 19\n7 31\n8 12\n8 19\n9 11\n9 23\n9 24\n10 13\n10 25\n11 17\n11 26\n12 14\n12 20\n13 25\n14 19\n14 20\n14 31\n15 16\n15 21\n15 27\n15 29\n16 27\n17 18\n17 24\n17 26\n18 22\n18 23\n19 31\n21 27\n21 29\n23 24\n23 26\n25 31\n27 30\n17 5\n6 16\n3 17\n7 12\n3 9\n28 2\n12 31\n22 23\n15 6\n22 17\n17 9\n3 26\n27 2\n12 1\n28 15\n14 7\n24 18\n21 4\n2 30\n2 16\n10 31\n9 11\n13 1\n1 25\n23 18\n2 27\n5 18\n10 13\n4 28\n21 2\n10 14\n30 16\n2 27\n23 3\n15 30\n17 18\n15 28\n31 19\n26 17\n10 8\n20 10\n4 29\n26 17\n27 29\n26 11\n14 25\n22 26\n28 23\n8 22\n23 2\n16 19\n22 31\n28 18\n27 13\n30 26\n13 18\n2 24\n8 30\n30 10\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    }
  ],
  "reference": {
    "py": "ref/py/uf_connect.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺をすべて unite してから same(a,b) を判定する。"
    },
    {
      "level": 2,
      "text": "経路圧縮 + サイズ（またはランク）併合で高速化。"
    },
    {
      "level": 3,
      "text": "入力は 1-indexed。0-index と取り違えないこと。"
    }
  ],
  "distractors": [
    {
      "code": "NO_PATH_COMPRESSION",
      "desc": "経路圧縮なしで find が遅い"
    },
    {
      "code": "UNION_BY_RANK_BUG",
      "desc": "小を大にぶら下げる条件を逆にしてしまう"
    },
    {
      "code": "INDEX_BASE_MISMATCH",
      "desc": "1-indexed/0-indexed の取り違え"
    },
    {
      "code": "DELAY_UNION",
      "desc": "クエリ処理後に union してしまう順序ミス"
    }
  ],
  "witness": {
    "yes_count_t1": 29,
    "no_count_t1": 30,
    "yes_count_t2": 47,
    "no_count_t2": 12
  },
  "difficulty": {
    "score": 0.35,
    "basis": "DSU basics with path compression"
  },
  "tags": [
    "dsu",
    "graph",
    "beginner"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}