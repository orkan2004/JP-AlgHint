{
  "id": "UF_20250920_00006",
  "version": "1.0",
  "lang": "ja",
  "task_family": "union_find_connectivity",
  "answer_type": "lines",
  "task": "uf_connect",
  "statement_ja": "無向グラフ G(V,E) と Q 個の質問 (a,b) が与えられる。Union-Find を用いて、a と b が同じ連結成分かを判定せよ（同じなら 1、異なるなら 0）。",
  "io_spec": {
    "input": "n m Q\\n(u v)×m\\n(a b)×Q（すべて 1-indexed）",
    "output": "各クエリに対する 1/0（改行区切り）"
  },
  "instance": {
    "seed": 6,
    "template_id": "UF_T1",
    "params": {
      "n": 59
    }
  },
  "tests": [
    {
      "in": "59 82 77\n1 35\n1 37\n1 54\n2 19\n2 42\n2 58\n3 35\n3 37\n3 38\n4 14\n4 51\n5 8\n5 17\n5 26\n5 43\n6 17\n6 33\n7 21\n7 28\n7 42\n7 57\n8 11\n8 17\n8 56\n9 10\n9 17\n9 52\n10 15\n12 14\n12 34\n13 20\n14 30\n14 34\n14 40\n15 17\n15 33\n15 43\n15 46\n16 19\n16 36\n17 44\n18 19\n18 28\n18 41\n18 58\n19 21\n19 36\n20 32\n20 38\n20 50\n22 34\n23 29\n23 49\n23 51\n24 35\n25 41\n27 34\n28 42\n28 53\n29 34\n29 39\n29 51\n29 55\n30 55\n31 32\n31 54\n31 59\n32 48\n32 59\n34 49\n34 55\n35 38\n36 57\n38 45\n38 54\n41 47\n45 54\n46 56\n47 57\n49 51\n50 54\n53 57\n20 50\n48 37\n52 10\n51 40\n45 24\n16 25\n44 6\n39 40\n38 3\n19 28\n48 31\n4 12\n4 39\n13 1\n16 25\n25 2\n32 3\n41 7\n32 20\n45 50\n47 25\n23 49\n51 30\n5 15\n2 7\n23 49\n3 35\n41 19\n22 4\n56 46\n4 22\n55 49\n43 11\n35 20\n10 46\n26 33\n14 23\n49 14\n54 15\n17 28\n22 50\n45 52\n32 51\n49 47\n6 22\n25 44\n39 59\n8 1\n51 31\n44 31\n30 38\n31 7\n49 15\n35 2\n44 30\n11 19\n11 49\n53 6\n20 4\n2 13\n37 46\n39 37\n31 53\n1 51\n8 49\n22 33\n34 20\n43 22\n33 19\n16 23\n19 52\n6 13\n4 21\n30 10\n14 25\n24 23\n4 8\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    },
    {
      "in": "59 105 59\n1 24\n1 32\n1 35\n2 16\n2 42\n2 53\n2 57\n3 13\n3 59\n4 30\n4 39\n4 55\n5 46\n5 52\n6 8\n6 9\n6 52\n7 28\n7 58\n8 9\n8 11\n8 15\n8 46\n8 56\n9 15\n10 17\n10 26\n10 33\n10 46\n11 15\n11 17\n11 33\n11 43\n11 44\n12 22\n12 27\n12 34\n13 20\n13 45\n14 40\n14 55\n15 46\n16 25\n16 41\n16 53\n17 56\n18 28\n18 41\n19 47\n19 57\n20 24\n20 38\n20 45\n20 48\n20 54\n21 28\n21 36\n21 53\n21 57\n22 27\n22 29\n22 34\n22 39\n22 55\n23 49\n24 35\n24 59\n25 28\n25 53\n27 29\n27 55\n28 36\n28 41\n28 42\n28 57\n28 58\n29 39\n29 49\n29 51\n31 32\n31 54\n31 59\n32 54\n33 44\n34 55\n35 45\n35 50\n35 54\n37 38\n37 59\n38 54\n39 49\n40 49\n40 55\n41 42\n41 53\n44 52\n45 54\n46 56\n47 53\n47 58\n48 50\n49 55\n50 54\n51 55\n8 26\n1 48\n59 54\n25 57\n9 43\n13 37\n4 49\n6 33\n54 1\n13 48\n52 15\n46 11\n53 21\n56 43\n53 18\n30 55\n53 47\n36 28\n42 18\n13 54\n42 47\n27 34\n22 14\n36 25\n36 58\n4 23\n47 53\n10 11\n21 53\n59 13\n46 33\n13 3\n5 43\n40 34\n55 27\n21 36\n57 58\n59 32\n46 6\n21 18\n22 23\n40 39\n47 36\n8 9\n52 8\n54 31\n58 57\n24 27\n34 47\n10 30\n4 9\n52 34\n23 33\n21 54\n23 20\n47 14\n32 53\n56 32\n27 15\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    }
  ],
  "reference": {
    "py": "ref/py/uf_connect.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺をすべて unite してから same(a,b) を判定する。"
    },
    {
      "level": 2,
      "text": "経路圧縮 + サイズ（またはランク）併合で高速化。"
    },
    {
      "level": 3,
      "text": "入力は 1-indexed。0-index と取り違えないこと。"
    }
  ],
  "distractors": [
    {
      "code": "NO_PATH_COMPRESSION",
      "desc": "経路圧縮なしで find が遅い"
    },
    {
      "code": "UNION_BY_RANK_BUG",
      "desc": "小を大にぶら下げる条件を逆にしてしまう"
    },
    {
      "code": "INDEX_BASE_MISMATCH",
      "desc": "1-indexed/0-indexed の取り違え"
    },
    {
      "code": "DELAY_UNION",
      "desc": "クエリ処理後に union してしまう順序ミス"
    }
  ],
  "witness": {
    "yes_count_t1": 38,
    "no_count_t1": 39,
    "yes_count_t2": 47,
    "no_count_t2": 12
  },
  "difficulty": {
    "score": 0.35,
    "basis": "DSU basics with path compression"
  },
  "tags": [
    "dsu",
    "graph",
    "beginner"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}