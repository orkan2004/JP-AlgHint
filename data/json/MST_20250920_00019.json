{
  "id": "MST_20250920_00019",
  "version": "1.0",
  "lang": "ja",
  "task_family": "mst_kruskal",
  "answer_type": "int",
  "task": "mst_kruskal",
  "statement_ja": "重み付き無向グラフの最小全域木の重み合計を求めよ。連結でない場合は -1。",
  "io_spec": {
    "input": "n m\\n(u v w)×m（1-indexed）",
    "output": "MST重み合計または -1"
  },
  "instance": {
    "seed": 19,
    "template_id": "MST_T1",
    "params": {
      "n": 47
    }
  },
  "tests": [
    {
      "in": "47 113\n25 32 684\n44 45 390\n35 42 978\n23 25 820\n8 18 357\n3 31 703\n4 30 826\n21 46 128\n7 19 903\n7 37 81\n11 16 597\n14 33 9\n1 26 429\n13 28 803\n7 21 952\n33 40 631\n24 37 236\n1 44 240\n21 32 605\n14 26 485\n40 45 282\n1 10 643\n16 17 86\n1 28 578\n3 10 692\n14 19 826\n5 16 291\n29 47 190\n1 3 417\n1 12 196\n4 45 1\n19 27 986\n17 39 137\n16 19 480\n7 16 203\n2 29 630\n16 28 13\n42 47 202\n25 31 817\n11 41 977\n5 9 875\n4 11 92\n14 21 194\n6 38 364\n21 45 604\n12 42 397\n1 5 160\n13 16 751\n8 29 523\n30 38 737\n10 44 470\n25 42 6\n1 7 73\n2 6 570\n8 22 830\n2 24 463\n8 40 236\n15 27 176\n6 24 863\n41 46 413\n14 16 300\n29 35 119\n3 25 947\n8 15 670\n2 8 205\n22 41 406\n5 34 434\n19 33 49\n10 30 471\n25 28 255\n30 42 226\n9 41 993\n3 9 969\n26 47 120\n12 30 433\n1 2 141\n8 17 273\n5 27 859\n17 38 598\n26 31 670\n3 11 655\n43 47 270\n12 23 632\n39 43 950\n1 4 414\n10 16 696\n11 15 795\n5 29 211\n10 25 276\n8 37 356\n9 36 185\n15 24 427\n32 40 208\n7 20 300\n35 36 744\n1 43 160\n20 41 465\n2 14 39\n31 34 888\n8 14 597\n9 13 878\n2 7 91\n34 42 970\n17 35 924\n2 16 562\n5 33 366\n4 44 456\n33 43 713\n14 29 955\n17 28 166\n9 24 311\n5 35 19\n5 44 690\n",
      "out": "10690\n"
    },
    {
      "in": "47 113\n25 32 669\n44 45 53\n35 42 207\n23 25 456\n8 18 983\n3 31 750\n4 30 973\n21 46 811\n7 19 59\n7 37 55\n11 16 54\n14 33 58\n1 26 208\n13 28 54\n7 21 472\n33 40 282\n24 37 941\n1 44 447\n21 32 891\n14 26 193\n40 45 39\n1 10 54\n16 17 161\n1 28 504\n3 10 149\n14 19 899\n5 16 54\n29 47 765\n1 3 963\n1 12 25\n4 45 188\n19 27 715\n17 39 461\n16 19 381\n7 16 754\n2 29 707\n16 28 881\n42 47 646\n25 31 775\n11 41 54\n5 9 778\n4 11 60\n14 21 690\n6 38 463\n21 45 428\n12 42 142\n1 5 704\n13 16 51\n8 29 58\n30 38 50\n10 44 565\n25 42 50\n1 7 52\n2 6 55\n8 22 921\n2 24 136\n8 40 636\n15 27 468\n6 24 860\n41 46 124\n14 16 60\n29 35 251\n3 25 986\n8 15 716\n2 8 620\n22 41 454\n5 34 569\n19 33 501\n10 30 419\n25 28 209\n30 42 854\n9 41 55\n3 9 478\n26 47 487\n12 30 53\n1 2 104\n8 17 11\n5 27 52\n17 38 556\n26 31 716\n3 11 57\n43 47 54\n12 23 836\n39 43 164\n1 4 478\n10 16 611\n11 15 314\n5 29 717\n10 25 468\n8 37 158\n9 36 52\n15 24 728\n32 40 912\n7 20 116\n35 36 75\n1 43 52\n20 41 43\n2 14 473\n31 34 55\n8 14 661\n9 13 52\n2 7 45\n34 42 100\n17 35 481\n2 16 978\n5 33 632\n4 44 75\n33 43 832\n14 29 50\n17 28 961\n9 24 548\n5 35 31\n5 44 53\n",
      "out": "5934\n"
    }
  ],
  "reference": {
    "py": "ref/py/mst_kruskal.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺を重み昇順に並べ、サイクルを作らないものだけ採用（Kruskal）。"
    },
    {
      "level": 2,
      "text": "サイクル判定にUnion-Findを使う。採用数が n-1 に達したら終了。"
    },
    {
      "level": 3,
      "text": "重みが同じでも動くように比較は w のみ。"
    }
  ],
  "distractors": [
    {
      "code": "WRONG_SORT_KEY",
      "desc": "w以外でソート"
    },
    {
      "code": "CYCLE_FILTER_MISS",
      "desc": "サイクル検出を忘れる"
    },
    {
      "code": "UNION_ORDER_BUG",
      "desc": "併合の大小関係を誤る"
    }
  ],
  "witness": {
    "mst_weight_t1": 10690,
    "chosen_edges_t1": [
      30,
      51,
      11,
      36,
      111,
      97,
      67,
      52,
      9,
      22,
      101,
      41,
      61,
      73,
      7,
      32,
      46,
      95,
      57,
      90,
      27,
      42,
      29,
      37,
      34,
      64,
      92,
      70,
      56,
      16,
      17,
      88,
      20,
      93,
      110,
      4,
      43,
      65,
      59,
      28,
      91,
      66,
      53,
      82,
      79,
      47
    ],
    "mst_weight_t2": 5934,
    "chosen_edges_t2": [
      76,
      29,
      111,
      20,
      96,
      101,
      108,
      51,
      49,
      47,
      52,
      95,
      77,
      100,
      90,
      112,
      74,
      1,
      21,
      26,
      10,
      39,
      13,
      81,
      53,
      9,
      98,
      80,
      48,
      11,
      8,
      41,
      60,
      102,
      93,
      59,
      55,
      45,
      83,
      19,
      86,
      44,
      65,
      3,
      0,
      4
    ]
  },
  "difficulty": {
    "score": 0.45,
    "basis": "Kruskal + DSU"
  },
  "tags": [
    "graph",
    "mst",
    "dsu",
    "intermediate"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}