{
  "id": "UF_20250920_00005",
  "version": "1.0",
  "lang": "ja",
  "task_family": "union_find_connectivity",
  "answer_type": "lines",
  "task": "uf_connect",
  "statement_ja": "無向グラフ G(V,E) と Q 個の質問 (a,b) が与えられる。Union-Find を用いて、a と b が同じ連結成分かを判定せよ（同じなら 1、異なるなら 0）。",
  "io_spec": {
    "input": "n m Q\\n(u v)×m\\n(a b)×Q（すべて 1-indexed）",
    "output": "各クエリに対する 1/0（改行区切り）"
  },
  "instance": {
    "seed": 5,
    "template_id": "UF_T1",
    "params": {
      "n": 59
    }
  },
  "tests": [
    {
      "in": "59 89 68\n1 8\n1 12\n1 21\n2 31\n3 46\n4 5\n4 6\n4 23\n4 31\n4 37\n4 42\n4 56\n5 35\n5 51\n5 53\n5 54\n6 11\n6 27\n6 30\n6 44\n6 47\n6 51\n7 12\n7 14\n7 16\n7 22\n7 58\n8 12\n8 14\n9 13\n9 37\n10 46\n11 19\n11 48\n12 16\n12 45\n13 37\n13 55\n13 59\n14 17\n14 29\n14 39\n15 27\n15 40\n15 47\n16 28\n16 33\n16 46\n17 22\n17 28\n17 38\n17 43\n17 45\n18 25\n18 42\n20 34\n20 43\n21 28\n22 41\n24 41\n24 58\n25 54\n26 39\n26 41\n27 30\n28 33\n28 52\n29 32\n29 34\n30 36\n30 51\n32 52\n33 41\n33 45\n33 49\n36 42\n36 59\n37 59\n38 50\n43 45\n44 56\n45 58\n47 51\n51 55\n51 57\n53 54\n53 55\n53 56\n54 57\n49 32\n15 2\n7 24\n56 47\n38 12\n37 56\n53 35\n41 14\n33 14\n17 12\n4 30\n22 10\n44 37\n33 3\n18 27\n39 24\n20 24\n57 25\n10 43\n22 50\n32 22\n30 15\n30 4\n21 49\n7 10\n33 26\n52 29\n47 11\n51 13\n50 52\n19 13\n4 54\n1 46\n58 14\n19 21\n30 52\n9 8\n54 33\n27 33\n39 27\n38 5\n29 6\n5 12\n41 4\n36 21\n36 32\n18 50\n17 27\n39 56\n36 3\n13 14\n46 13\n55 21\n22 9\n10 9\n51 3\n22 37\n29 44\n16 30\n28 4\n27 58\n53 10\n35 46\n20 51\n40 3\n8 27\n42 28\n45 30\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    },
    {
      "in": "59 109 30\n1 8\n1 32\n1 49\n2 11\n2 42\n3 20\n3 26\n3 41\n4 5\n4 18\n4 27\n4 30\n4 37\n4 59\n5 31\n5 35\n5 56\n6 9\n6 19\n6 54\n7 14\n7 16\n7 26\n7 28\n7 33\n7 39\n7 45\n8 16\n8 17\n8 21\n8 26\n8 33\n9 23\n9 37\n9 53\n10 24\n10 39\n10 43\n11 23\n11 27\n11 55\n11 56\n12 20\n12 26\n12 29\n12 38\n13 25\n13 37\n13 56\n14 28\n14 38\n14 45\n14 50\n15 19\n15 25\n15 54\n16 32\n16 34\n16 39\n17 22\n17 32\n17 39\n17 49\n18 42\n19 30\n19 59\n20 28\n20 34\n21 52\n23 27\n23 37\n23 56\n24 26\n24 50\n25 36\n25 40\n25 55\n26 29\n27 40\n27 47\n27 59\n28 34\n29 39\n29 41\n30 47\n30 53\n31 36\n31 53\n32 58\n34 49\n35 44\n36 37\n37 54\n37 57\n39 46\n40 53\n41 52\n42 47\n42 54\n44 56\n45 58\n46 58\n47 56\n48 59\n51 54\n52 58\n53 55\n55 56\n56 59\n36 42\n3 21\n20 43\n55 51\n18 11\n42 35\n45 3\n41 38\n47 42\n36 5\n25 44\n59 56\n38 17\n34 1\n45 7\n31 5\n52 14\n49 16\n20 16\n36 44\n17 29\n8 12\n34 16\n4 15\n55 12\n29 40\n52 18\n20 11\n22 37\n1 13\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n"
    }
  ],
  "reference": {
    "py": "ref/py/uf_connect.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺をすべて unite してから same(a,b) を判定する。"
    },
    {
      "level": 2,
      "text": "経路圧縮 + サイズ（またはランク）併合で高速化。"
    },
    {
      "level": 3,
      "text": "入力は 1-indexed。0-index と取り違えないこと。"
    }
  ],
  "distractors": [
    {
      "code": "NO_PATH_COMPRESSION",
      "desc": "経路圧縮なしで find が遅い"
    },
    {
      "code": "UNION_BY_RANK_BUG",
      "desc": "小を大にぶら下げる条件を逆にしてしまう"
    },
    {
      "code": "INDEX_BASE_MISMATCH",
      "desc": "1-indexed/0-indexed の取り違え"
    },
    {
      "code": "DELAY_UNION",
      "desc": "クエリ処理後に union してしまう順序ミス"
    }
  ],
  "witness": {
    "yes_count_t1": 34,
    "no_count_t1": 34,
    "yes_count_t2": 24,
    "no_count_t2": 6
  },
  "difficulty": {
    "score": 0.35,
    "basis": "DSU basics with path compression"
  },
  "tags": [
    "dsu",
    "graph",
    "beginner"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}