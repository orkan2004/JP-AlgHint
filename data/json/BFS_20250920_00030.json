{
  "id": "BFS_20250920_00030",
  "version": "1.0",
  "lang": "ja",
  "task_family": "bfs_shortest",
  "answer_type": "int",
  "task": "bfs_shortest",
  "statement_ja": "無向グラフが与えられる。s から t への最短距離（辺数）を出力せよ。到達不能なら -1。",
  "io_spec": {
    "input": "n m s t\\n(u v)×m（1-indexed, 無向）",
    "output": "最短距離または -1"
  },
  "instance": {
    "seed": 30,
    "template_id": "BFS_T1",
    "params": {
      "n": 40
    }
  },
  "tests": [
    {
      "in": "40 87 25 6\n16 29\n4 9\n5 10\n22 26\n5 19\n21 37\n4 30\n13 17\n13 26\n15 23\n32 39\n2 32\n16 31\n23 27\n5 39\n16 24\n25 36\n16 17\n7 14\n13 30\n6 36\n22 32\n21 34\n5 25\n4 27\n12 40\n1 3\n13 14\n27 40\n7 16\n11 32\n12 15\n5 9\n5 18\n27 33\n30 38\n25 33\n3 14\n20 30\n14 23\n8 13\n28 34\n1 25\n2 24\n32 34\n3 7\n4 6\n14 16\n18 32\n37 39\n6 8\n6 17\n5 6\n15 38\n1 2\n10 14\n17 29\n19 26\n27 39\n2 28\n13 25\n12 14\n26 31\n8 10\n1 4\n22 36\n9 18\n5 29\n2 21\n2 30\n8 12\n2 5\n17 24\n8 30\n32 33\n7 13\n15 26\n15 35\n10 11\n9 13\n13 22\n15 28\n25 30\n35 40\n3 20\n9 15\n17 37\n",
      "out": "2\n"
    },
    {
      "in": "40 97 5 14\n33 36\n26 30\n16 29\n4 9\n18 26\n18 35\n14 22\n22 35\n19 39\n18 19\n24 35\n13 35\n29 34\n22 37\n23 36\n1 8\n15 16\n24 37\n18 30\n22 30\n24 30\n12 13\n5 7\n21 25\n29 38\n20 35\n14 19\n1 3\n13 14\n27 31\n28 39\n25 40\n5 9\n23 24\n14 21\n1 5\n17 32\n19 29\n7 9\n11 25\n11 34\n20 21\n12 17\n26 34\n22 27\n12 26\n1 7\n27 35\n28 34\n19 31\n17 34\n20 23\n4 6\n14 16\n18 32\n14 25\n21 40\n23 37\n17 18\n1 9\n19 33\n25 28\n3 9\n5 6\n1 2\n11 13\n28 29\n2 10\n30 35\n19 35\n4 10\n16 39\n20 39\n11 15\n28 31\n17 40\n3 4\n18 20\n13 36\n12 16\n26 33\n16 25\n2 7\n19 23\n23 39\n11 19\n25 30\n4 7\n5 8\n22 24\n39 40\n14 20\n17 19\n11 12\n13 15\n6 9\n7 8\n",
      "out": "-1\n"
    }
  ],
  "reference": {
    "py": "ref/py/bfs_shortest.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "無重みグラフの最短路は BFS で求まる。"
    },
    {
      "level": 2,
      "text": "dist 配列を -1 で初期化し、dist[s]=0。未訪問のみキューに入れる。"
    },
    {
      "level": 3,
      "text": "隣接 to の距離は dist[v]+1。t に到達したら距離が答え。"
    }
  ],
  "distractors": [
    {
      "code": "VISIT_MARK_LATE",
      "desc": "訪問印を遅く付けて多重プッシュ"
    },
    {
      "code": "OFF_BY_ONE",
      "desc": "距離 +1 や初期値の扱いを誤る"
    },
    {
      "code": "INDEX_BASE_MISMATCH",
      "desc": "1-indexed/0-indexed を取り違え"
    }
  ],
  "witness": {
    "shortest_len_t1": 2,
    "shortest_len_t2": -1
  },
  "difficulty": {
    "score": 0.4,
    "basis": "BFS on unweighted graph"
  },
  "tags": [
    "graph",
    "simulation",
    "beginner"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}