{
  "id": "UF_20250920_00003",
  "version": "1.0",
  "lang": "ja",
  "task_family": "union_find_connectivity",
  "answer_type": "lines",
  "task": "uf_connect",
  "statement_ja": "無向グラフ G(V,E) と Q 個の質問 (a,b) が与えられる。Union-Find を用いて、a と b が同じ連結成分かを判定せよ（同じなら 1、異なるなら 0）。",
  "io_spec": {
    "input": "n m Q\\n(u v)×m\\n(a b)×Q（すべて 1-indexed）",
    "output": "各クエリに対する 1/0（改行区切り）"
  },
  "instance": {
    "seed": 3,
    "template_id": "UF_T1",
    "params": {
      "n": 43
    }
  },
  "tests": [
    {
      "in": "43 61 51\n1 6\n2 8\n2 24\n3 24\n4 37\n5 19\n5 41\n6 11\n6 26\n6 43\n7 8\n8 24\n8 25\n8 29\n8 39\n9 28\n9 30\n9 40\n10 43\n11 26\n11 43\n12 24\n12 29\n13 15\n13 21\n13 27\n13 34\n13 35\n14 23\n14 37\n15 23\n15 32\n15 42\n16 30\n16 31\n17 26\n18 29\n18 33\n19 24\n19 25\n20 35\n21 23\n22 32\n22 35\n24 39\n25 33\n26 30\n26 31\n27 35\n27 38\n28 30\n29 33\n29 41\n31 40\n31 43\n32 38\n34 35\n35 37\n36 40\n37 38\n37 42\n16 17\n4 32\n41 12\n30 36\n42 4\n6 16\n12 5\n21 38\n14 15\n40 16\n19 2\n30 28\n39 12\n38 4\n36 10\n5 8\n19 25\n1 36\n34 23\n29 5\n29 8\n12 33\n18 25\n36 30\n40 17\n11 14\n25 31\n33 37\n22 17\n41 21\n8 32\n19 10\n1 20\n5 9\n12 9\n4 28\n37 26\n32 19\n31 41\n2 17\n10 14\n28 38\n32 25\n10 13\n4 28\n42 12\n5 26\n35 39\n36 34\n31 18\n18 31\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    },
    {
      "in": "43 75 39\n1 10\n1 17\n1 30\n2 8\n2 12\n2 29\n2 39\n3 8\n3 24\n4 23\n4 27\n4 37\n5 19\n5 39\n5 41\n6 9\n6 16\n7 8\n7 19\n7 29\n7 39\n7 41\n8 19\n8 25\n8 41\n9 11\n9 26\n9 28\n9 30\n10 17\n10 36\n11 16\n11 17\n11 36\n11 40\n12 18\n12 29\n13 23\n13 27\n13 35\n13 37\n14 32\n14 35\n15 27\n15 38\n16 17\n16 30\n16 40\n17 26\n17 30\n17 36\n19 24\n20 38\n21 34\n21 37\n21 38\n22 23\n22 27\n22 38\n25 29\n26 31\n27 35\n27 42\n28 31\n29 39\n30 31\n30 43\n32 34\n32 37\n33 41\n34 38\n37 38\n37 42\n38 42\n40 43\n33 2\n19 5\n28 16\n25 3\n43 36\n19 29\n8 18\n4 14\n42 35\n12 8\n30 16\n1 9\n39 25\n20 34\n4 15\n9 28\n4 13\n23 32\n28 6\n35 23\n1 31\n22 13\n34 20\n30 9\n42 23\n34 14\n9 30\n9 26\n42 14\n27 32\n33 3\n33 21\n34 26\n10 15\n41 17\n19 15\n40 21\n29 1\n18 23\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n"
    }
  ],
  "reference": {
    "py": "ref/py/uf_connect.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺をすべて unite してから same(a,b) を判定する。"
    },
    {
      "level": 2,
      "text": "経路圧縮 + サイズ（またはランク）併合で高速化。"
    },
    {
      "level": 3,
      "text": "入力は 1-indexed。0-index と取り違えないこと。"
    }
  ],
  "distractors": [
    {
      "code": "NO_PATH_COMPRESSION",
      "desc": "経路圧縮なしで find が遅い"
    },
    {
      "code": "UNION_BY_RANK_BUG",
      "desc": "小を大にぶら下げる条件を逆にしてしまう"
    },
    {
      "code": "INDEX_BASE_MISMATCH",
      "desc": "1-indexed/0-indexed の取り違え"
    },
    {
      "code": "DELAY_UNION",
      "desc": "クエリ処理後に union してしまう順序ミス"
    }
  ],
  "witness": {
    "yes_count_t1": 25,
    "no_count_t1": 26,
    "yes_count_t2": 31,
    "no_count_t2": 8
  },
  "difficulty": {
    "score": 0.35,
    "basis": "DSU basics with path compression"
  },
  "tags": [
    "dsu",
    "graph",
    "beginner"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}