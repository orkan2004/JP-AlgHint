{
  "id": "MST_20250920_00029",
  "version": "1.0",
  "lang": "ja",
  "task_family": "mst_kruskal",
  "answer_type": "int",
  "task": "mst_kruskal",
  "statement_ja": "重み付き無向グラフの最小全域木の重み合計を求めよ。連結でない場合は -1。",
  "io_spec": {
    "input": "n m\\n(u v w)×m（1-indexed）",
    "output": "MST重み合計または -1"
  },
  "instance": {
    "seed": 29,
    "template_id": "MST_T1",
    "params": {
      "n": 32
    }
  },
  "tests": [
    {
      "in": "32 73\n24 30 561\n16 20 342\n25 29 623\n16 26 37\n4 9 375\n7 26 295\n3 7 617\n14 16 89\n21 25 782\n4 15 964\n18 32 704\n29 32 295\n4 21 524\n1 6 128\n11 14 718\n2 5 773\n1 3 893\n10 18 690\n5 28 413\n10 15 665\n1 18 322\n10 24 311\n13 23 23\n6 11 224\n6 8 851\n16 22 979\n26 32 194\n6 23 765\n4 5 367\n18 28 318\n7 28 3\n5 6 620\n3 12 164\n22 25 313\n3 21 52\n5 12 123\n14 21 500\n1 2 701\n9 13 222\n14 27 204\n10 14 995\n27 30 661\n9 22 551\n5 27 721\n28 29 140\n19 20 849\n9 31 573\n11 22 728\n6 7 302\n6 13 543\n10 32 350\n15 19 965\n24 28 730\n16 18 582\n25 27 622\n2 25 552\n18 30 664\n29 30 123\n8 31 105\n1 4 532\n9 15 153\n5 20 94\n17 28 263\n17 31 305\n1 10 50\n27 29 105\n11 18 546\n8 25 873\n10 22 419\n7 11 712\n8 28 671\n10 19 278\n16 17 367\n",
      "out": "6378\n"
    },
    {
      "in": "32 73\n24 30 563\n16 20 623\n25 29 59\n16 26 527\n4 9 59\n7 26 856\n3 7 476\n14 16 97\n21 25 452\n4 15 399\n18 32 59\n29 32 56\n4 21 909\n1 6 55\n11 14 555\n2 5 55\n1 3 850\n10 18 317\n5 28 358\n10 15 42\n1 18 995\n10 24 323\n13 23 59\n6 11 681\n6 8 50\n16 22 79\n26 32 195\n6 23 294\n4 5 244\n18 28 52\n7 28 878\n5 6 713\n3 12 201\n22 25 552\n3 21 984\n5 12 395\n14 21 58\n1 2 55\n9 13 823\n14 27 140\n10 14 348\n27 30 867\n9 22 172\n5 27 58\n28 29 865\n19 20 60\n9 31 53\n11 22 681\n6 7 745\n6 13 695\n10 32 548\n15 19 60\n24 28 293\n16 18 38\n25 27 7\n2 25 248\n18 30 784\n29 30 615\n8 31 687\n1 4 403\n9 15 58\n5 20 59\n17 28 78\n17 31 58\n1 10 72\n27 29 50\n11 18 951\n8 25 878\n10 22 56\n7 11 546\n8 28 589\n10 19 57\n16 17 661\n",
      "out": "4214\n"
    }
  ],
  "reference": {
    "py": "ref/py/mst_kruskal.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺を重み昇順に並べ、サイクルを作らないものだけ採用（Kruskal）。"
    },
    {
      "level": 2,
      "text": "サイクル判定にUnion-Findを使う。採用数が n-1 に達したら終了。"
    },
    {
      "level": 3,
      "text": "重みが同じでも動くように比較は w のみ。"
    }
  ],
  "distractors": [
    {
      "code": "WRONG_SORT_KEY",
      "desc": "w以外でソート"
    },
    {
      "code": "CYCLE_FILTER_MISS",
      "desc": "サイクル検出を忘れる"
    },
    {
      "code": "UNION_ORDER_BUG",
      "desc": "併合の大小関係を誤る"
    }
  ],
  "witness": {
    "mst_weight_t1": 6378,
    "chosen_edges_t1": [
      30,
      22,
      3,
      64,
      34,
      7,
      61,
      58,
      65,
      35,
      57,
      13,
      44,
      60,
      32,
      26,
      39,
      38,
      23,
      62,
      71,
      48,
      63,
      21,
      33,
      29,
      1,
      28,
      4,
      68,
      55
    ],
    "mst_weight_t2": 4214,
    "chosen_edges_t2": [
      54,
      53,
      19,
      24,
      65,
      29,
      46,
      37,
      13,
      15,
      68,
      11,
      71,
      43,
      60,
      36,
      63,
      4,
      61,
      22,
      10,
      45,
      7,
      26,
      32,
      52,
      27,
      35,
      6,
      69,
      0
    ]
  },
  "difficulty": {
    "score": 0.45,
    "basis": "Kruskal + DSU"
  },
  "tags": [
    "graph",
    "mst",
    "dsu",
    "intermediate"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}