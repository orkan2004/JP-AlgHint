{
  "id": "RSQ_20250920_00027",
  "version": "1.0",
  "lang": "ja",
  "task_family": "range_sum_query",
  "answer_type": "lines",
  "task": "rsq_prefix",
  "statement_ja": "配列 a と Q 個の区間 [l,r] (1-indexed, 閉区間) が与えられる。各区間の和を求めよ。",
  "io_spec": {
    "input": "n Q\\na_1 .. a_n\\n(l r)×Q",
    "output": "各クエリの区間和（改行区切り）"
  },
  "instance": {
    "seed": 27,
    "template_id": "RSQ_T1",
    "params": {
      "n": 54
    }
  },
  "tests": [
    {
      "in": "54 50\n51 -63 61 -14 -1 -52 94 -23 34 -77 42 40 60 -93 51 -97 91 -58 -82 -57 -40 19 32 3 -10 45 -57 -18 -49 -94 -68 -69 -98 40 0 -73 31 -28 -85 5 -88 -52 49 9 3 -22 -17 -62 77 -14 48 -91 -56 -90\n14 37\n8 40\n35 45\n11 26\n19 21\n17 34\n22 46\n30 51\n25 51\n11 19\n6 28\n17 47\n11 32\n18 48\n12 22\n39 51\n23 30\n40 49\n4 29\n14 22\n27 54\n23 34\n4 6\n26 54\n6 46\n49 53\n44 48\n9 26\n10 33\n15 17\n5 11\n23 44\n8 12\n10 32\n33 50\n3 18\n32 38\n33 35\n36 48\n9 19\n11 14\n5 28\n28 43\n42 49\n7 34\n8 10\n1 49\n35 53\n18 37\n19 38\n",
      "out": "-651\n-683\n-229\n-54\n-179\n-470\n-575\n-508\n-597\n-46\n-153\n-738\n-409\n-891\n-166\n-149\n-148\n-98\n-217\n-266\n-869\n-343\n-67\n-824\n-742\n-36\n-89\n-97\n-584\n45\n17\n-575\n16\n-486\n-325\n58\n-197\n-58\n-330\n-89\n49\n-154\n-597\n-15\n-439\n-66\n-710\n-366\n-603\n-573\n"
    },
    {
      "in": "54 16\n51 -63 61 -14 -1 -52 94 -23 34 -77 42 40 60 -93 51 -97 91 -58 -82 -57 -40 19 32 3 -10 45 -57 -18 -49 -94 -68 -69 -98 40 0 -73 31 -28 -85 5 -88 -52 49 9 3 -22 -17 -62 77 -14 48 -91 -56 -90\n1 1\n54 54\n1 54\n30 46\n19 48\n5 33\n38 50\n2 25\n10 51\n35 53\n5 13\n18 54\n48 53\n10 25\n47 50\n46 47\n",
      "out": "51\n-90\n-913\n-540\n-833\n-532\n-225\n-140\n-763\n-366\n117\n-1017\n-98\n-176\n-16\n-39\n"
    }
  ],
  "reference": {
    "py": "ref/py/rsq_prefix.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "累積和を作ると O(1) で区間和が出せる。"
    },
    {
      "level": 2,
      "text": "pref[i] = a_1+…+a_i、答えは pref[r]-pref[l-1]。"
    },
    {
      "level": 3,
      "text": "1-indexed の境界 (l-1) を忘れないこと。"
    }
  ],
  "distractors": [
    {
      "code": "OFF_BY_ONE_L",
      "desc": "pref[r]-pref[l] としてしまう"
    },
    {
      "code": "ZERO_INDEX_INPUT",
      "desc": "入力1-indexedを0-index前提で処理"
    },
    {
      "code": "REBUILD_EACH_QUERY",
      "desc": "毎回部分和をループで足す O(nQ)"
    }
  ],
  "witness": {
    "array_len": 54,
    "sample_queries": [
      [
        1,
        1
      ],
      [
        54,
        54
      ],
      [
        1,
        54
      ]
    ]
  },
  "difficulty": {
    "score": 0.25,
    "basis": "prefix sum basics"
  },
  "tags": [
    "array",
    "prefix_sum",
    "beginner"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}