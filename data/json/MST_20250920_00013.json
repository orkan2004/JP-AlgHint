{
  "id": "MST_20250920_00013",
  "version": "1.0",
  "lang": "ja",
  "task_family": "mst_kruskal",
  "answer_type": "int",
  "task": "mst_kruskal",
  "statement_ja": "重み付き無向グラフの最小全域木の重み合計を求めよ。連結でない場合は -1。",
  "io_spec": {
    "input": "n m\\n(u v w)×m（1-indexed）",
    "output": "MST重み合計または -1"
  },
  "instance": {
    "seed": 13,
    "template_id": "MST_T1",
    "params": {
      "n": 39
    }
  },
  "tests": [
    {
      "in": "39 102\n15 21 216\n26 39 291\n15 39 427\n3 13 195\n29 32 712\n2 11 373\n16 31 608\n3 15 341\n3 24 637\n23 36 678\n11 16 204\n10 20 956\n38 39 352\n6 34 303\n21 32 572\n23 38 393\n14 35 747\n8 34 828\n1 28 359\n25 29 509\n16 35 922\n5 7 157\n20 26 318\n31 35 814\n14 28 853\n27 31 101\n13 14 435\n16 19 439\n8 36 487\n12 15 703\n6 29 918\n12 24 70\n14 21 687\n20 37 911\n9 16 908\n4 29 761\n1 5 757\n10 17 805\n2 13 641\n7 9 277\n33 37 708\n9 37 232\n2 31 334\n3 5 429\n20 21 369\n12 17 250\n12 26 586\n18 39 243\n14 32 375\n8 22 457\n30 31 708\n8 31 234\n11 36 676\n6 24 226\n4 6 301\n6 33 458\n17 27 267\n8 24 358\n1 18 261\n37 39 93\n11 20 121\n28 36 210\n9 32 175\n6 8 104\n15 29 341\n7 25 639\n26 38 422\n4 17 349\n23 30 703\n1 2 456\n27 39 868\n6 10 204\n12 14 897\n7 27 176\n16 39 652\n8 10 504\n1 4 104\n2 3 932\n22 36 893\n5 20 170\n10 25 129\n5 38 274\n6 12 524\n21 28 139\n4 21 445\n9 29 640\n11 26 806\n16 25 20\n18 22 862\n35 38 234\n26 35 171\n6 32 725\n11 19 761\n17 35 860\n2 16 455\n15 19 663\n16 18 835\n21 23 864\n14 20 502\n9 15 621\n11 12 415\n2 9 791\n",
      "out": "9259\n"
    },
    {
      "in": "39 102\n15 21 60\n26 39 54\n15 39 358\n3 13 594\n29 32 52\n2 11 550\n16 31 986\n3 15 772\n3 24 893\n23 36 59\n11 16 97\n10 20 794\n38 39 53\n6 34 995\n21 32 357\n23 38 59\n14 35 436\n8 34 746\n1 28 81\n25 29 50\n16 35 102\n5 7 58\n20 26 764\n31 35 752\n14 28 729\n27 31 703\n13 14 55\n16 19 215\n8 36 232\n12 15 190\n6 29 55\n12 24 57\n14 21 52\n20 37 936\n9 16 178\n4 29 54\n1 5 50\n10 17 52\n2 13 60\n7 9 596\n33 37 928\n9 37 266\n2 31 54\n3 5 51\n20 21 288\n12 17 620\n12 26 54\n18 39 538\n14 32 895\n8 22 722\n30 31 58\n8 31 835\n11 36 680\n6 24 53\n4 6 68\n6 33 58\n17 27 59\n8 24 323\n1 18 242\n37 39 54\n11 20 842\n28 36 483\n9 32 54\n6 8 235\n15 29 717\n7 25 67\n26 38 52\n4 17 987\n23 30 706\n1 2 57\n27 39 382\n6 10 526\n12 14 606\n7 27 338\n16 39 626\n8 10 962\n1 4 55\n2 3 740\n22 36 52\n5 20 126\n10 25 371\n5 38 782\n6 12 362\n21 28 999\n4 21 51\n9 29 52\n11 26 554\n16 25 1000\n18 22 278\n35 38 18\n26 35 970\n6 32 649\n11 19 172\n17 35 999\n2 16 464\n15 19 970\n16 18 52\n21 23 176\n14 20 122\n9 15 54\n11 12 638\n2 9 671\n",
      "out": "3480\n"
    }
  ],
  "reference": {
    "py": "ref/py/mst_kruskal.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺を重み昇順に並べ、サイクルを作らないものだけ採用（Kruskal）。"
    },
    {
      "level": 2,
      "text": "サイクル判定にUnion-Findを使う。採用数が n-1 に達したら終了。"
    },
    {
      "level": 3,
      "text": "重みが同じでも動くように比較は w のみ。"
    }
  ],
  "distractors": [
    {
      "code": "WRONG_SORT_KEY",
      "desc": "w以外でソート"
    },
    {
      "code": "CYCLE_FILTER_MISS",
      "desc": "サイクル検出を忘れる"
    },
    {
      "code": "UNION_ORDER_BUG",
      "desc": "併合の大小関係を誤る"
    }
  ],
  "witness": {
    "mst_weight_t1": 9259,
    "chosen_edges_t1": [
      87,
      31,
      59,
      25,
      76,
      63,
      60,
      80,
      83,
      21,
      79,
      90,
      62,
      73,
      3,
      71,
      10,
      61,
      0,
      53,
      41,
      89,
      47,
      45,
      58,
      81,
      39,
      13,
      42,
      7,
      64,
      18,
      48,
      15,
      27,
      49,
      55,
      68
    ],
    "mst_weight_t2": 3480,
    "chosen_edges_t2": [
      89,
      36,
      19,
      43,
      84,
      85,
      37,
      32,
      96,
      78,
      66,
      4,
      53,
      12,
      42,
      35,
      99,
      46,
      59,
      76,
      30,
      26,
      69,
      31,
      21,
      55,
      50,
      56,
      9,
      15,
      18,
      10,
      20,
      98,
      92,
      28,
      73,
      17
    ]
  },
  "difficulty": {
    "score": 0.45,
    "basis": "Kruskal + DSU"
  },
  "tags": [
    "graph",
    "mst",
    "dsu",
    "intermediate"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}