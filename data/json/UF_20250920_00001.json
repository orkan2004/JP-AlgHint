{
  "id": "UF_20250920_00001",
  "version": "1.0",
  "lang": "ja",
  "task_family": "union_find_connectivity",
  "answer_type": "lines",
  "task": "uf_connect",
  "statement_ja": "無向グラフ G(V,E) と Q 個の質問 (a,b) が与えられる。Union-Find を用いて、a と b が同じ連結成分かを判定せよ（同じなら 1、異なるなら 0）。",
  "io_spec": {
    "input": "n m Q\\n(u v)×m\\n(a b)×Q（すべて 1-indexed）",
    "output": "各クエリに対する 1/0（改行区切り）"
  },
  "instance": {
    "seed": 1,
    "template_id": "UF_T1",
    "params": {
      "n": 51
    }
  },
  "tests": [
    {
      "in": "51 78 53\n1 32\n1 40\n2 18\n2 25\n2 26\n3 19\n3 24\n3 25\n3 41\n4 7\n4 27\n4 32\n5 28\n5 38\n6 24\n6 26\n7 23\n7 27\n7 32\n7 34\n7 44\n8 31\n9 14\n9 29\n9 32\n10 18\n11 34\n12 26\n12 38\n13 38\n13 41\n14 21\n14 27\n14 39\n14 47\n15 43\n15 50\n16 32\n17 19\n17 37\n18 38\n18 43\n18 49\n19 25\n20 21\n20 46\n22 27\n22 32\n23 46\n24 36\n24 49\n25 38\n26 36\n26 42\n27 29\n27 47\n27 51\n28 42\n28 43\n29 31\n29 39\n29 45\n30 34\n30 46\n31 40\n31 47\n33 37\n34 51\n35 37\n36 41\n36 48\n37 38\n39 40\n41 49\n42 49\n45 47\n48 49\n49 50\n19 18\n23 31\n28 2\n11 29\n7 45\n49 6\n21 9\n31 11\n32 9\n9 1\n16 40\n34 51\n17 2\n45 30\n48 42\n1 23\n48 10\n41 49\n15 10\n14 46\n2 6\n43 42\n6 28\n43 49\n37 26\n22 31\n51 49\n49 14\n23 42\n11 48\n51 38\n28 21\n22 35\n12 20\n42 27\n49 45\n9 26\n32 38\n16 19\n24 39\n16 50\n48 16\n40 13\n9 26\n46 13\n46 13\n47 6\n21 43\n22 15\n40 13\n46 48\n39 24\n31 38\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    },
    {
      "in": "51 91 51\n1 8\n1 9\n1 31\n1 46\n1 47\n2 13\n2 28\n3 12\n3 28\n3 38\n3 43\n4 7\n4 20\n4 23\n4 29\n4 32\n4 45\n4 51\n5 10\n5 24\n5 36\n6 13\n6 35\n6 38\n7 8\n8 23\n8 32\n9 29\n9 32\n9 46\n10 12\n10 24\n10 48\n11 39\n12 19\n12 25\n12 26\n13 17\n13 25\n13 49\n14 47\n15 37\n15 48\n15 50\n16 21\n16 31\n16 32\n17 24\n17 26\n17 41\n17 50\n18 37\n20 22\n20 29\n20 31\n21 44\n22 47\n23 31\n23 32\n23 39\n23 45\n24 35\n25 28\n25 35\n25 36\n25 50\n26 28\n26 33\n26 41\n26 42\n27 29\n27 32\n28 37\n29 40\n30 46\n32 39\n32 46\n33 38\n34 44\n34 45\n34 46\n36 38\n36 42\n36 48\n37 38\n39 40\n39 45\n40 45\n44 45\n44 46\n45 47\n1 44\n4 23\n21 30\n47 7\n9 27\n22 8\n48 13\n35 24\n26 41\n26 33\n27 20\n23 51\n24 17\n44 9\n45 30\n8 47\n49 25\n23 46\n48 25\n3 33\n46 27\n29 34\n31 32\n5 33\n23 16\n18 37\n51 31\n27 23\n46 4\n51 21\n9 11\n8 4\n14 30\n18 19\n33 2\n22 39\n13 43\n50 6\n30 45\n29 46\n29 50\n1 12\n19 34\n34 17\n10 31\n17 39\n33 47\n20 50\n10 23\n27 5\n48 51\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    }
  ],
  "reference": {
    "py": "ref/py/uf_connect.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺をすべて unite してから same(a,b) を判定する。"
    },
    {
      "level": 2,
      "text": "経路圧縮 + サイズ（またはランク）併合で高速化。"
    },
    {
      "level": 3,
      "text": "入力は 1-indexed。0-index と取り違えないこと。"
    }
  ],
  "distractors": [
    {
      "code": "NO_PATH_COMPRESSION",
      "desc": "経路圧縮なしで find が遅い"
    },
    {
      "code": "UNION_BY_RANK_BUG",
      "desc": "小を大にぶら下げる条件を逆にしてしまう"
    },
    {
      "code": "INDEX_BASE_MISMATCH",
      "desc": "1-indexed/0-indexed の取り違え"
    },
    {
      "code": "DELAY_UNION",
      "desc": "クエリ処理後に union してしまう順序ミス"
    }
  ],
  "witness": {
    "yes_count_t1": 26,
    "no_count_t1": 27,
    "yes_count_t2": 40,
    "no_count_t2": 11
  },
  "difficulty": {
    "score": 0.35,
    "basis": "DSU basics with path compression"
  },
  "tags": [
    "dsu",
    "graph",
    "beginner"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}