{
  "id": "UF_20250920_00021",
  "version": "1.0",
  "lang": "ja",
  "task_family": "union_find_connectivity",
  "answer_type": "lines",
  "task": "uf_connect",
  "statement_ja": "無向グラフ G(V,E) と Q 個の質問 (a,b) が与えられる。Union-Find を用いて、a と b が同じ連結成分かを判定せよ（同じなら 1、異なるなら 0）。",
  "io_spec": {
    "input": "n m Q\\n(u v)×m\\n(a b)×Q（すべて 1-indexed）",
    "output": "各クエリに対する 1/0（改行区切り）"
  },
  "instance": {
    "seed": 21,
    "template_id": "UF_T1",
    "params": {
      "n": 13
    }
  },
  "tests": [
    {
      "in": "13 14 64\n1 8\n1 11\n2 3\n2 9\n3 9\n4 5\n4 6\n4 7\n4 13\n5 13\n6 13\n8 12\n9 10\n11 12\n2 9\n12 8\n10 9\n11 12\n1 8\n8 1\n10 2\n10 9\n11 12\n2 10\n8 12\n9 3\n11 1\n3 10\n13 6\n12 11\n10 2\n2 3\n8 11\n2 9\n10 2\n6 5\n9 3\n13 4\n13 7\n13 5\n6 5\n13 4\n10 2\n13 4\n9 3\n7 5\n7 3\n10 4\n5 8\n3 1\n13 2\n6 9\n8 9\n13 10\n10 12\n6 3\n11 2\n4 10\n4 11\n10 7\n9 11\n11 6\n8 10\n2 6\n8 13\n1 13\n8 7\n10 13\n9 1\n1 9\n1 4\n2 6\n11 2\n5 1\n3 5\n12 7\n8 2\n13 8\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    },
    {
      "in": "13 14 54\n1 8\n1 11\n1 12\n2 3\n2 9\n2 10\n3 10\n4 5\n4 7\n4 13\n6 7\n7 13\n8 12\n9 10\n7 13\n2 3\n2 9\n10 9\n13 7\n8 11\n1 8\n8 11\n11 8\n3 9\n4 13\n6 7\n9 10\n12 8\n8 11\n13 4\n13 5\n9 2\n8 11\n10 9\n3 10\n13 6\n6 5\n12 11\n2 10\n1 8\n10 3\n11 8\n12 1\n12 11\n7 6\n8 11\n9 2\n10 2\n10 2\n1 12\n8 11\n12 8\n12 11\n12 1\n3 2\n6 4\n13 5\n11 13\n4 9\n9 7\n3 7\n6 3\n3 13\n2 12\n8 7\n11 7\n5 2\n7 9\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    }
  ],
  "reference": {
    "py": "ref/py/uf_connect.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺をすべて unite してから same(a,b) を判定する。"
    },
    {
      "level": 2,
      "text": "経路圧縮 + サイズ（またはランク）併合で高速化。"
    },
    {
      "level": 3,
      "text": "入力は 1-indexed。0-index と取り違えないこと。"
    }
  ],
  "distractors": [
    {
      "code": "NO_PATH_COMPRESSION",
      "desc": "経路圧縮なしで find が遅い"
    },
    {
      "code": "UNION_BY_RANK_BUG",
      "desc": "小を大にぶら下げる条件を逆にしてしまう"
    },
    {
      "code": "INDEX_BASE_MISMATCH",
      "desc": "1-indexed/0-indexed の取り違え"
    },
    {
      "code": "DELAY_UNION",
      "desc": "クエリ処理後に union してしまう順序ミス"
    }
  ],
  "witness": {
    "yes_count_t1": 32,
    "no_count_t1": 32,
    "yes_count_t2": 43,
    "no_count_t2": 11
  },
  "difficulty": {
    "score": 0.35,
    "basis": "DSU basics with path compression"
  },
  "tags": [
    "dsu",
    "graph",
    "beginner"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}