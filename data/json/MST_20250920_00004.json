{
  "id": "MST_20250920_00004",
  "version": "1.0",
  "lang": "ja",
  "task_family": "mst_kruskal",
  "answer_type": "int",
  "task": "mst_kruskal",
  "statement_ja": "重み付き無向グラフの最小全域木の重み合計を求めよ。連結でない場合は -1。",
  "io_spec": {
    "input": "n m\\n(u v w)×m（1-indexed）",
    "output": "MST重み合計または -1"
  },
  "instance": {
    "seed": 4,
    "template_id": "MST_T1",
    "params": {
      "n": 37
    }
  },
  "tests": [
    {
      "in": "37 81\n20 29 935\n3 22 513\n2 11 995\n15 23 509\n16 22 91\n18 19 242\n25 34 570\n23 27 675\n2 4 767\n12 36 895\n11 16 174\n7 12 807\n2 25 542\n7 30 132\n3 17 590\n14 26 863\n10 22 972\n2 36 979\n3 10 587\n21 25 644\n9 14 358\n1 3 224\n3 37 226\n1 21 170\n2 20 3\n33 35 231\n5 18 431\n17 32 54\n7 9 571\n10 26 702\n2 22 734\n1 32 788\n11 34 875\n16 30 474\n4 13 808\n4 31 687\n2 6 528\n15 27 327\n3 7 654\n6 24 419\n15 36 887\n6 33 456\n14 16 595\n4 15 914\n17 18 847\n2 8 10\n10 21 107\n9 23 665\n30 33 269\n2 35 505\n26 29 436\n7 34 605\n1 2 481\n17 20 266\n8 17 478\n2 37 607\n3 32 947\n28 31 918\n8 28 503\n2 12 297\n13 27 147\n18 29 937\n8 12 202\n1 6 967\n10 18 608\n8 30 643\n15 17 211\n16 25 838\n4 5 967\n26 35 350\n6 32 274\n16 34 684\n10 11 53\n17 35 187\n5 33 481\n7 15 437\n18 33 387\n31 36 81\n23 32 346\n19 25 911\n11 30 459\n",
      "out": "10507\n"
    },
    {
      "in": "37 81\n20 29 895\n3 22 60\n2 11 237\n15 23 40\n16 22 58\n18 19 375\n25 34 185\n23 27 354\n2 4 54\n12 36 54\n11 16 810\n7 12 440\n2 25 53\n7 30 509\n3 17 53\n14 26 52\n10 22 59\n2 36 118\n3 10 896\n21 25 874\n9 14 53\n1 3 61\n3 37 57\n1 21 997\n2 20 54\n33 35 612\n5 18 304\n17 32 50\n7 9 151\n10 26 533\n2 22 108\n1 32 725\n11 34 890\n16 30 433\n4 13 399\n4 31 436\n2 6 89\n15 27 591\n3 7 55\n6 24 359\n15 36 393\n6 33 867\n14 16 57\n4 15 332\n17 18 267\n2 8 218\n10 21 480\n9 23 50\n30 33 474\n2 35 59\n26 29 145\n7 34 427\n1 2 120\n17 20 861\n8 17 720\n2 37 52\n3 32 541\n28 31 246\n8 28 773\n2 12 57\n13 27 731\n18 29 887\n8 12 53\n1 6 60\n10 18 366\n8 30 536\n15 17 502\n16 25 9\n4 5 903\n26 35 428\n6 32 701\n16 34 781\n10 11 341\n17 35 533\n5 33 57\n7 15 59\n18 33 665\n31 36 50\n23 32 797\n19 25 413\n11 30 771\n",
      "out": "5041\n"
    }
  ],
  "reference": {
    "py": "ref/py/mst_kruskal.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺を重み昇順に並べ、サイクルを作らないものだけ採用（Kruskal）。"
    },
    {
      "level": 2,
      "text": "サイクル判定にUnion-Findを使う。採用数が n-1 に達したら終了。"
    },
    {
      "level": 3,
      "text": "重みが同じでも動くように比較は w のみ。"
    }
  ],
  "distractors": [
    {
      "code": "WRONG_SORT_KEY",
      "desc": "w以外でソート"
    },
    {
      "code": "CYCLE_FILTER_MISS",
      "desc": "サイクル検出を忘れる"
    },
    {
      "code": "UNION_ORDER_BUG",
      "desc": "併合の大小関係を誤る"
    }
  ],
  "witness": {
    "mst_weight_t1": 10507,
    "chosen_edges_t1": [
      24,
      45,
      72,
      27,
      77,
      4,
      46,
      13,
      60,
      23,
      10,
      73,
      62,
      66,
      21,
      22,
      25,
      5,
      53,
      48,
      70,
      37,
      78,
      69,
      20,
      76,
      39,
      26,
      50,
      80,
      58,
      12,
      6,
      28,
      35,
      8
    ],
    "mst_weight_t2": 5041,
    "chosen_edges_t2": [
      67,
      3,
      47,
      27,
      77,
      55,
      15,
      12,
      14,
      62,
      20,
      8,
      24,
      9,
      38,
      59,
      22,
      74,
      42,
      4,
      49,
      16,
      63,
      21,
      50,
      6,
      2,
      57,
      44,
      26,
      7,
      39,
      5,
      34,
      33,
      46
    ]
  },
  "difficulty": {
    "score": 0.45,
    "basis": "Kruskal + DSU"
  },
  "tags": [
    "graph",
    "mst",
    "dsu",
    "intermediate"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}