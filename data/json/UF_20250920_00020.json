{
  "id": "UF_20250920_00020",
  "version": "1.0",
  "lang": "ja",
  "task_family": "union_find_connectivity",
  "answer_type": "lines",
  "task": "uf_connect",
  "statement_ja": "無向グラフ G(V,E) と Q 個の質問 (a,b) が与えられる。Union-Find を用いて、a と b が同じ連結成分かを判定せよ（同じなら 1、異なるなら 0）。",
  "io_spec": {
    "input": "n m Q\\n(u v)×m\\n(a b)×Q（すべて 1-indexed）",
    "output": "各クエリに対する 1/0（改行区切り）"
  },
  "instance": {
    "seed": 20,
    "template_id": "UF_T1",
    "params": {
      "n": 49
    }
  },
  "tests": [
    {
      "in": "49 69 41\n1 23\n2 17\n2 39\n2 41\n3 27\n3 29\n3 30\n4 29\n4 30\n4 40\n5 21\n5 22\n5 23\n5 33\n5 43\n6 14\n6 36\n6 48\n7 29\n7 42\n8 11\n8 44\n8 45\n9 18\n9 44\n10 31\n10 34\n11 13\n12 13\n12 26\n13 20\n13 44\n15 31\n15 41\n15 47\n16 21\n16 33\n17 31\n17 41\n17 47\n18 26\n18 45\n19 36\n19 48\n19 49\n20 45\n21 22\n21 23\n22 25\n23 28\n23 33\n23 43\n24 36\n24 49\n27 29\n27 42\n29 35\n31 38\n31 39\n32 46\n34 39\n35 37\n35 40\n37 40\n37 42\n44 45\n46 48\n46 49\n48 49\n16 28\n7 4\n6 36\n30 27\n45 12\n33 23\n17 2\n19 36\n31 34\n49 24\n11 12\n10 2\n6 14\n38 17\n21 22\n17 39\n46 6\n7 29\n39 31\n25 43\n15 43\n36 41\n4 45\n9 46\n26 29\n45 21\n33 37\n44 21\n38 43\n23 47\n17 18\n48 4\n14 28\n4 12\n33 36\n42 19\n37 32\n12 5\n49 35\n37 20\n32 41\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    },
    {
      "in": "49 84 51\n1 16\n1 21\n1 22\n1 23\n1 25\n1 43\n2 10\n2 38\n3 29\n3 42\n4 7\n4 27\n4 29\n4 30\n4 35\n4 42\n5 21\n5 23\n5 28\n5 33\n6 24\n6 32\n6 49\n7 27\n7 30\n7 40\n8 11\n8 13\n8 18\n8 20\n8 45\n9 11\n9 12\n9 13\n9 18\n9 20\n9 45\n10 17\n10 41\n12 18\n12 44\n13 18\n13 20\n14 19\n14 32\n14 36\n15 34\n15 39\n15 41\n16 22\n16 25\n16 43\n17 34\n18 44\n18 45\n19 32\n19 36\n19 46\n19 48\n20 26\n20 45\n21 25\n22 33\n24 49\n25 28\n27 29\n27 30\n28 33\n28 43\n30 35\n30 40\n31 34\n31 38\n31 41\n31 47\n32 46\n34 39\n35 37\n36 46\n36 49\n38 41\n39 41\n46 48\n48 49\n34 2\n29 27\n2 47\n19 46\n7 3\n37 40\n17 10\n34 31\n34 10\n21 23\n34 15\n7 29\n44 9\n4 30\n31 38\n17 15\n17 34\n39 47\n1 43\n36 24\n32 46\n16 23\n10 34\n30 29\n9 8\n16 25\n16 43\n35 30\n7 4\n39 41\n49 19\n41 38\n27 7\n3 29\n42 37\n19 14\n7 27\n35 27\n23 5\n43 22\n15 11\n34 22\n12 39\n41 36\n40 24\n9 47\n14 17\n47 12\n37 32\n20 2\n39 8\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    }
  ],
  "reference": {
    "py": "ref/py/uf_connect.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺をすべて unite してから same(a,b) を判定する。"
    },
    {
      "level": 2,
      "text": "経路圧縮 + サイズ（またはランク）併合で高速化。"
    },
    {
      "level": 3,
      "text": "入力は 1-indexed。0-index と取り違えないこと。"
    }
  ],
  "distractors": [
    {
      "code": "NO_PATH_COMPRESSION",
      "desc": "経路圧縮なしで find が遅い"
    },
    {
      "code": "UNION_BY_RANK_BUG",
      "desc": "小を大にぶら下げる条件を逆にしてしまう"
    },
    {
      "code": "INDEX_BASE_MISMATCH",
      "desc": "1-indexed/0-indexed の取り違え"
    },
    {
      "code": "DELAY_UNION",
      "desc": "クエリ処理後に union してしまう順序ミス"
    }
  ],
  "witness": {
    "yes_count_t1": 20,
    "no_count_t1": 21,
    "yes_count_t2": 40,
    "no_count_t2": 11
  },
  "difficulty": {
    "score": 0.35,
    "basis": "DSU basics with path compression"
  },
  "tags": [
    "dsu",
    "graph",
    "beginner"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}