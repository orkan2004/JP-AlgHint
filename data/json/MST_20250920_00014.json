{
  "id": "MST_20250920_00014",
  "version": "1.0",
  "lang": "ja",
  "task_family": "mst_kruskal",
  "answer_type": "int",
  "task": "mst_kruskal",
  "statement_ja": "重み付き無向グラフの最小全域木の重み合計を求めよ。連結でない場合は -1。",
  "io_spec": {
    "input": "n m\\n(u v w)×m（1-indexed）",
    "output": "MST重み合計または -1"
  },
  "instance": {
    "seed": 14,
    "template_id": "MST_T1",
    "params": {
      "n": 46
    }
  },
  "tests": [
    {
      "in": "46 110\n16 20 677\n15 30 410\n32 46 898\n4 9 798\n7 35 478\n29 32 808\n5 10 63\n20 29 655\n18 44 521\n31 38 757\n34 37 262\n14 31 818\n4 30 68\n14 40 66\n16 22 951\n7 19 951\n20 31 17\n14 33 600\n15 16 630\n24 37 338\n13 37 880\n12 20 2\n5 23 747\n9 21 637\n14 35 436\n5 32 4\n3 35 70\n36 41 405\n9 42 475\n6 36 171\n6 45 239\n21 43 128\n1 21 455\n7 16 175\n33 44 631\n10 42 86\n14 21 699\n12 33 928\n9 16 557\n37 44 979\n10 44 238\n3 14 440\n14 32 940\n1 7 629\n2 6 625\n27 35 984\n13 18 708\n17 34 66\n8 31 80\n1 25 226\n25 26 103\n25 35 476\n6 15 110\n26 27 208\n12 19 455\n15 45 377\n21 40 638\n8 24 89\n37 39 639\n2 17 156\n5 34 404\n3 46 465\n11 29 135\n15 29 117\n32 45 901\n38 40 362\n1 2 518\n34 36 802\n28 29 810\n19 26 902\n22 43 457\n27 39 959\n3 39 737\n30 35 977\n15 22 485\n32 38 371\n7 18 949\n21 26 184\n1 4 577\n2 3 703\n19 28 41\n9 27 66\n14 41 884\n11 24 511\n30 37 723\n4 12 539\n2 5 802\n36 37 978\n17 33 540\n24 38 650\n26 35 136\n16 34 537\n4 14 885\n21 30 491\n20 34 794\n8 14 945\n10 11 297\n31 34 232\n34 42 189\n37 38 660\n5 42 91\n33 34 689\n13 31 39\n21 23 701\n5 8 888\n10 13 977\n9 15 960\n2 9 769\n34 44 861\n23 41 927\n",
      "out": "10303\n"
    },
    {
      "in": "46 110\n16 20 193\n15 30 60\n32 46 384\n4 9 57\n7 35 54\n29 32 924\n5 10 52\n20 29 110\n18 44 302\n31 38 280\n34 37 234\n14 31 54\n4 30 32\n14 40 89\n16 22 59\n7 19 454\n20 31 207\n14 33 866\n15 16 418\n24 37 56\n13 37 217\n12 20 51\n5 23 483\n9 21 885\n14 35 288\n5 32 144\n3 35 18\n36 41 53\n9 42 50\n6 36 492\n6 45 56\n21 43 676\n1 21 405\n7 16 10\n33 44 717\n10 42 994\n14 21 778\n12 33 55\n9 16 142\n37 44 281\n10 44 614\n3 14 878\n14 32 352\n1 7 312\n2 6 58\n27 35 625\n13 18 70\n17 34 683\n8 31 55\n1 25 301\n25 26 57\n25 35 524\n6 15 196\n26 27 53\n12 19 54\n15 45 507\n21 40 935\n8 24 480\n37 39 384\n2 17 734\n5 34 53\n3 46 325\n11 29 179\n15 29 805\n32 45 51\n38 40 839\n1 2 372\n34 36 577\n28 29 581\n19 26 664\n22 43 315\n27 39 798\n3 39 957\n30 35 13\n15 22 810\n32 38 52\n7 18 223\n21 26 51\n1 4 505\n2 3 56\n19 28 52\n9 27 579\n14 41 59\n11 24 490\n30 37 108\n4 12 59\n2 5 33\n36 37 606\n17 33 538\n24 38 57\n26 35 278\n16 34 339\n4 14 810\n21 30 867\n20 34 866\n8 14 58\n10 11 565\n31 34 87\n34 42 848\n37 38 102\n5 42 59\n33 34 60\n13 31 58\n21 23 846\n5 8 60\n10 13 715\n9 15 60\n2 9 382\n34 44 56\n23 41 59\n",
      "out": "4352\n"
    }
  ],
  "reference": {
    "py": "ref/py/mst_kruskal.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺を重み昇順に並べ、サイクルを作らないものだけ採用（Kruskal）。"
    },
    {
      "level": 2,
      "text": "サイクル判定にUnion-Findを使う。採用数が n-1 に達したら終了。"
    },
    {
      "level": 3,
      "text": "重みが同じでも動くように比較は w のみ。"
    }
  ],
  "distractors": [
    {
      "code": "WRONG_SORT_KEY",
      "desc": "w以外でソート"
    },
    {
      "code": "CYCLE_FILTER_MISS",
      "desc": "サイクル検出を忘れる"
    },
    {
      "code": "UNION_ORDER_BUG",
      "desc": "併合の大小関係を誤る"
    }
  ],
  "witness": {
    "mst_weight_t1": 10303,
    "chosen_edges_t1": [
      21,
      25,
      16,
      102,
      80,
      6,
      81,
      13,
      47,
      12,
      26,
      48,
      35,
      57,
      50,
      52,
      63,
      31,
      62,
      90,
      59,
      29,
      33,
      77,
      98,
      53,
      49,
      97,
      40,
      30,
      10,
      96,
      65,
      75,
      27,
      1,
      24,
      54,
      70,
      61,
      4,
      8,
      88,
      58,
      103
    ],
    "mst_weight_t2": 4352,
    "chosen_edges_t2": [
      33,
      73,
      26,
      12,
      86,
      28,
      21,
      77,
      64,
      6,
      80,
      75,
      60,
      53,
      27,
      4,
      54,
      11,
      48,
      37,
      79,
      30,
      19,
      108,
      3,
      89,
      50,
      44,
      102,
      85,
      82,
      14,
      109,
      104,
      106,
      46,
      13,
      7,
      62,
      90,
      49,
      70,
      61,
      58,
      88
    ]
  },
  "difficulty": {
    "score": 0.45,
    "basis": "Kruskal + DSU"
  },
  "tags": [
    "graph",
    "mst",
    "dsu",
    "intermediate"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}