{
  "id": "UF_20250920_00017",
  "version": "1.0",
  "lang": "ja",
  "task_family": "union_find_connectivity",
  "answer_type": "lines",
  "task": "uf_connect",
  "statement_ja": "無向グラフ G(V,E) と Q 個の質問 (a,b) が与えられる。Union-Find を用いて、a と b が同じ連結成分かを判定せよ（同じなら 1、異なるなら 0）。",
  "io_spec": {
    "input": "n m Q\\n(u v)×m\\n(a b)×Q（すべて 1-indexed）",
    "output": "各クエリに対する 1/0（改行区切り）"
  },
  "instance": {
    "seed": 17,
    "template_id": "UF_T1",
    "params": {
      "n": 39
    }
  },
  "tests": [
    {
      "in": "39 47 49\n1 16\n1 17\n1 19\n2 27\n2 28\n3 38\n3 39\n4 29\n4 34\n5 38\n6 26\n6 37\n7 31\n7 33\n8 28\n8 30\n8 33\n9 15\n9 16\n9 19\n9 20\n10 11\n10 38\n11 22\n11 25\n11 39\n12 34\n13 18\n14 19\n15 20\n17 20\n18 24\n18 26\n19 20\n21 36\n22 25\n23 26\n25 38\n26 32\n26 37\n27 31\n29 35\n30 31\n30 33\n32 37\n34 35\n34 36\n36 34\n31 8\n35 4\n26 13\n30 7\n7 30\n29 4\n3 10\n11 38\n4 36\n38 11\n35 12\n39 25\n14 19\n37 13\n29 21\n1 16\n27 7\n6 13\n16 17\n8 2\n8 28\n28 30\n23 6\n1 6\n33 15\n23 5\n38 27\n24 9\n4 28\n7 10\n16 6\n20 22\n17 36\n14 18\n32 20\n27 13\n19 28\n3 4\n25 1\n6 1\n6 27\n3 21\n31 25\n36 9\n17 2\n7 16\n10 36\n25 16\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    },
    {
      "in": "39 60 58\n1 9\n1 19\n2 28\n2 31\n2 33\n3 5\n3 11\n4 12\n4 35\n5 22\n5 25\n5 38\n6 18\n6 24\n6 26\n7 28\n8 28\n8 30\n8 33\n9 14\n9 15\n9 16\n9 17\n10 11\n10 39\n11 25\n11 39\n12 21\n12 29\n12 34\n12 35\n13 18\n13 24\n13 26\n14 16\n14 19\n14 20\n15 19\n15 20\n17 19\n18 24\n18 26\n19 20\n21 36\n22 38\n23 26\n23 32\n23 37\n24 32\n25 38\n26 37\n27 28\n27 33\n28 30\n28 33\n29 34\n29 35\n30 31\n34 35\n34 36\n39 25\n35 12\n32 37\n31 33\n39 10\n29 34\n24 26\n24 37\n22 3\n4 36\n20 14\n3 38\n18 32\n23 13\n28 30\n26 18\n37 23\n11 38\n5 39\n39 22\n23 26\n21 29\n8 2\n3 25\n1 15\n19 20\n20 16\n21 4\n4 36\n29 12\n12 21\n37 6\n31 7\n7 33\n31 7\n13 23\n37 13\n32 26\n32 24\n29 36\n15 14\n7 30\n31 33\n18 32\n29 21\n31 7\n36 9\n36 22\n11 8\n38 4\n34 14\n6 14\n21 38\n4 39\n31 13\n19 12\n4 23\n2 16\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    }
  ],
  "reference": {
    "py": "ref/py/uf_connect.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺をすべて unite してから same(a,b) を判定する。"
    },
    {
      "level": 2,
      "text": "経路圧縮 + サイズ（またはランク）併合で高速化。"
    },
    {
      "level": 3,
      "text": "入力は 1-indexed。0-index と取り違えないこと。"
    }
  ],
  "distractors": [
    {
      "code": "NO_PATH_COMPRESSION",
      "desc": "経路圧縮なしで find が遅い"
    },
    {
      "code": "UNION_BY_RANK_BUG",
      "desc": "小を大にぶら下げる条件を逆にしてしまう"
    },
    {
      "code": "INDEX_BASE_MISMATCH",
      "desc": "1-indexed/0-indexed の取り違え"
    },
    {
      "code": "DELAY_UNION",
      "desc": "クエリ処理後に union してしまう順序ミス"
    }
  ],
  "witness": {
    "yes_count_t1": 24,
    "no_count_t1": 25,
    "yes_count_t2": 46,
    "no_count_t2": 12
  },
  "difficulty": {
    "score": 0.35,
    "basis": "DSU basics with path compression"
  },
  "tags": [
    "dsu",
    "graph",
    "beginner"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}