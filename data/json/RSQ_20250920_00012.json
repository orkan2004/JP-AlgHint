{
  "id": "RSQ_20250920_00012",
  "version": "1.0",
  "lang": "ja",
  "task_family": "range_sum_query",
  "answer_type": "lines",
  "task": "rsq_prefix",
  "statement_ja": "配列 a と Q 個の区間 [l,r] (1-indexed, 閉区間) が与えられる。各区間の和を求めよ。",
  "io_spec": {
    "input": "n Q\\na_1 .. a_n\\n(l r)×Q",
    "output": "各クエリの区間和（改行区切り）"
  },
  "instance": {
    "seed": 12,
    "template_id": "RSQ_T1",
    "params": {
      "n": 33
    }
  },
  "tests": [
    {
      "in": "33 40\n83 -91 27 -34 36 1 30 37 20 40 -15 -13 -96 20 -88 -95 57 -56 -37 67 34 40 -54 -73 93 -54 -86 -41 86 -77 76 26 -30\n3 7\n3 32\n6 32\n13 27\n8 17\n2 20\n2 6\n11 20\n10 29\n11 16\n19 25\n9 25\n18 23\n3 17\n32 33\n6 16\n9 11\n14 23\n11 15\n1 15\n4 27\n30 33\n21 27\n1 29\n7 17\n28 32\n17 31\n30 32\n10 19\n13 14\n18 22\n4 12\n28 31\n6 25\n22 29\n9 30\n21 25\n15 23\n3 7\n10 33\n",
      "out": "60\n-129\n-158\n-328\n-133\n-190\n-61\n-256\n-271\n-287\n70\n-156\n-6\n-73\n-4\n-159\n45\n-112\n-192\n-43\n-226\n-5\n-100\n-162\n-103\n70\n-25\n25\n-283\n-76\n48\n102\n44\n-88\n-89\n-328\n40\n-132\n60\n-276\n"
    },
    {
      "in": "33 12\n83 -91 27 -34 36 1 30 37 20 40 -15 -13 -96 20 -88 -95 57 -56 -37 67 34 40 -54 -73 93 -54 -86 -41 86 -77 76 26 -30\n1 1\n33 33\n1 33\n12 24\n29 31\n22 23\n2 17\n3 19\n20 24\n11 28\n16 24\n1 32\n",
      "out": "83\n-30\n-167\n-294\n85\n-14\n-164\n-166\n14\n-397\n-117\n-137\n"
    }
  ],
  "reference": {
    "py": "ref/py/rsq_prefix.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "累積和を作ると O(1) で区間和が出せる。"
    },
    {
      "level": 2,
      "text": "pref[i] = a_1+…+a_i、答えは pref[r]-pref[l-1]。"
    },
    {
      "level": 3,
      "text": "1-indexed の境界 (l-1) を忘れないこと。"
    }
  ],
  "distractors": [
    {
      "code": "OFF_BY_ONE_L",
      "desc": "pref[r]-pref[l] としてしまう"
    },
    {
      "code": "ZERO_INDEX_INPUT",
      "desc": "入力1-indexedを0-index前提で処理"
    },
    {
      "code": "REBUILD_EACH_QUERY",
      "desc": "毎回部分和をループで足す O(nQ)"
    }
  ],
  "witness": {
    "array_len": 33,
    "sample_queries": [
      [
        1,
        1
      ],
      [
        33,
        33
      ],
      [
        1,
        33
      ]
    ]
  },
  "difficulty": {
    "score": 0.25,
    "basis": "prefix sum basics"
  },
  "tags": [
    "array",
    "prefix_sum",
    "beginner"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}