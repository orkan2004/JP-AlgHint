{
  "id": "UF_20250920_00015",
  "version": "1.0",
  "lang": "ja",
  "task_family": "union_find_connectivity",
  "answer_type": "lines",
  "task": "uf_connect",
  "statement_ja": "無向グラフ G(V,E) と Q 個の質問 (a,b) が与えられる。Union-Find を用いて、a と b が同じ連結成分かを判定せよ（同じなら 1、異なるなら 0）。",
  "io_spec": {
    "input": "n m Q\\n(u v)×m\\n(a b)×Q（すべて 1-indexed）",
    "output": "各クエリに対する 1/0（改行区切り）"
  },
  "instance": {
    "seed": 15,
    "template_id": "UF_T1",
    "params": {
      "n": 59
    }
  },
  "tests": [
    {
      "in": "59 77 44\n1 4\n1 10\n1 30\n1 42\n2 22\n2 28\n3 16\n3 24\n3 41\n4 23\n4 53\n4 56\n5 28\n5 57\n5 59\n6 27\n6 31\n6 40\n6 46\n7 14\n7 18\n7 38\n8 18\n8 37\n8 48\n8 54\n9 27\n10 23\n11 46\n11 50\n12 22\n12 34\n13 14\n13 15\n14 54\n15 37\n15 48\n16 26\n17 39\n17 50\n18 25\n19 24\n19 29\n19 35\n20 37\n21 35\n22 34\n22 44\n26 29\n27 33\n28 36\n29 41\n29 45\n29 51\n30 52\n30 53\n31 46\n31 50\n32 52\n33 39\n33 40\n33 50\n34 57\n34 59\n35 41\n36 57\n36 59\n38 54\n39 40\n40 43\n41 51\n42 55\n47 55\n49 58\n49 59\n52 56\n53 55\n27 46\n51 41\n24 45\n53 42\n24 26\n8 20\n3 19\n3 19\n9 27\n16 21\n8 15\n34 58\n15 7\n5 44\n17 11\n16 3\n2 57\n10 32\n44 36\n39 17\n56 1\n4 32\n22 32\n26 44\n44 48\n33 55\n21 1\n50 22\n22 21\n19 27\n32 3\n41 48\n17 2\n41 18\n56 35\n48 47\n46 12\n57 53\n5 23\n32 48\n33 34\n53 33\n46 26\n59 18\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    },
    {
      "in": "59 99 56\n1 4\n1 10\n1 23\n1 42\n1 47\n1 52\n1 55\n1 56\n2 28\n2 36\n2 44\n3 16\n3 19\n3 24\n4 52\n5 34\n6 9\n6 17\n6 33\n6 43\n7 13\n7 15\n7 25\n7 54\n8 13\n8 20\n9 11\n9 43\n10 56\n11 27\n11 33\n12 22\n12 36\n12 44\n12 58\n13 37\n13 54\n14 20\n14 25\n14 37\n15 18\n15 20\n15 48\n15 54\n16 19\n16 21\n16 26\n16 41\n17 39\n17 50\n19 35\n20 25\n20 37\n21 24\n22 28\n22 36\n22 59\n23 30\n23 32\n23 42\n23 47\n23 52\n23 53\n24 29\n24 41\n24 51\n25 37\n25 54\n26 41\n27 39\n28 34\n28 57\n29 45\n30 53\n31 39\n32 47\n33 39\n34 36\n34 59\n35 51\n36 44\n36 49\n36 59\n38 48\n39 40\n39 43\n39 50\n40 43\n40 46\n41 45\n41 51\n42 55\n42 56\n43 50\n44 57\n46 50\n49 57\n49 59\n58 59\n48 15\n45 51\n1 56\n21 16\n30 55\n22 58\n59 2\n10 42\n33 11\n41 16\n36 59\n56 55\n19 51\n27 43\n59 28\n36 44\n55 10\n41 51\n35 3\n5 59\n16 29\n51 45\n45 24\n30 1\n29 24\n16 24\n7 54\n20 8\n59 36\n29 19\n2 12\n52 10\n53 30\n37 25\n58 28\n8 15\n37 14\n58 12\n47 30\n21 26\n20 48\n34 2\n21 41\n44 36\n49 6\n26 6\n53 22\n55 39\n40 10\n53 3\n33 56\n30 45\n15 41\n11 45\n37 46\n18 23\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    }
  ],
  "reference": {
    "py": "ref/py/uf_connect.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺をすべて unite してから same(a,b) を判定する。"
    },
    {
      "level": 2,
      "text": "経路圧縮 + サイズ（またはランク）併合で高速化。"
    },
    {
      "level": 3,
      "text": "入力は 1-indexed。0-index と取り違えないこと。"
    }
  ],
  "distractors": [
    {
      "code": "NO_PATH_COMPRESSION",
      "desc": "経路圧縮なしで find が遅い"
    },
    {
      "code": "UNION_BY_RANK_BUG",
      "desc": "小を大にぶら下げる条件を逆にしてしまう"
    },
    {
      "code": "INDEX_BASE_MISMATCH",
      "desc": "1-indexed/0-indexed の取り違え"
    },
    {
      "code": "DELAY_UNION",
      "desc": "クエリ処理後に union してしまう順序ミス"
    }
  ],
  "witness": {
    "yes_count_t1": 22,
    "no_count_t1": 22,
    "yes_count_t2": 44,
    "no_count_t2": 12
  },
  "difficulty": {
    "score": 0.35,
    "basis": "DSU basics with path compression"
  },
  "tags": [
    "dsu",
    "graph",
    "beginner"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}