{
  "id": "MST_20250920_00005",
  "version": "1.0",
  "lang": "ja",
  "task_family": "mst_kruskal",
  "answer_type": "int",
  "task": "mst_kruskal",
  "statement_ja": "重み付き無向グラフの最小全域木の重み合計を求めよ。連結でない場合は -1。",
  "io_spec": {
    "input": "n m\\n(u v w)×m（1-indexed）",
    "output": "MST重み合計または -1"
  },
  "instance": {
    "seed": 5,
    "template_id": "MST_T1",
    "params": {
      "n": 44
    }
  },
  "tests": [
    {
      "in": "44 87\n25 32 264\n1 40 98\n29 41 561\n14 22 767\n5 19 177\n24 26 59\n6 20 145\n18 19 993\n3 6 897\n20 22 469\n29 34 804\n17 23 712\n1 8 513\n24 28 326\n30 41 287\n1 44 960\n20 24 241\n4 43 521\n10 22 686\n24 30 91\n18 23 187\n12 13 82\n29 38 784\n9 14 281\n12 31 6\n12 40 399\n1 3 59\n19 36 852\n25 31 268\n2 29 564\n33 44 303\n20 28 128\n12 24 481\n14 21 512\n14 30 150\n4 29 273\n11 25 182\n3 5 21\n15 34 691\n23 44 462\n1 7 633\n2 6 111\n10 19 519\n27 35 786\n36 38 388\n25 35 124\n26 27 111\n6 33 45\n27 37 27\n2 17 377\n30 33 143\n8 42 586\n9 41 875\n6 17 7\n24 41 245\n12 21 315\n1 2 161\n4 35 989\n10 23 855\n30 35 481\n13 25 16\n6 19 347\n3 11 277\n4 10 576\n1 4 584\n5 29 794\n33 39 910\n4 12 770\n10 18 520\n8 30 157\n14 43 306\n28 42 303\n4 42 271\n1 27 176\n13 38 567\n2 44 737\n4 44 759\n7 15 145\n35 40 702\n13 40 45\n16 36 506\n4 16 887\n18 33 493\n3 20 868\n2 9 325\n17 28 558\n2 18 971\n",
      "out": "10183\n"
    },
    {
      "in": "44 87\n25 32 900\n1 40 182\n29 41 56\n14 22 50\n5 19 111\n24 26 977\n6 20 51\n18 19 314\n3 6 987\n20 22 667\n29 34 52\n17 23 60\n1 8 403\n24 28 913\n30 41 992\n1 44 642\n20 24 549\n4 43 880\n10 22 282\n24 30 140\n18 23 52\n12 13 242\n29 38 54\n9 14 492\n12 31 249\n12 40 56\n1 3 59\n19 36 59\n25 31 353\n2 29 53\n33 44 54\n20 28 645\n12 24 51\n14 21 446\n14 30 437\n4 29 413\n11 25 56\n3 5 91\n15 34 52\n23 44 672\n1 7 58\n2 6 896\n10 19 52\n27 35 185\n36 38 59\n25 35 57\n26 27 53\n6 33 918\n27 37 621\n2 17 714\n30 33 116\n8 42 51\n9 41 56\n6 17 946\n24 41 748\n12 21 214\n1 2 965\n4 35 807\n10 23 53\n30 35 767\n13 25 91\n6 19 1000\n3 11 43\n4 10 496\n1 4 721\n5 29 59\n33 39 109\n4 12 668\n10 18 790\n8 30 996\n14 43 469\n28 42 859\n4 42 57\n1 27 484\n13 38 403\n2 44 57\n4 44 120\n7 15 702\n35 40 50\n13 40 55\n16 36 51\n4 16 58\n18 33 52\n3 20 355\n2 9 57\n17 28 56\n2 18 60\n",
      "out": "5324\n"
    }
  ],
  "reference": {
    "py": "ref/py/mst_kruskal.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺を重み昇順に並べ、サイクルを作らないものだけ採用（Kruskal）。"
    },
    {
      "level": 2,
      "text": "サイクル判定にUnion-Findを使う。採用数が n-1 に達したら終了。"
    },
    {
      "level": 3,
      "text": "重みが同じでも動くように比較は w のみ。"
    }
  ],
  "distractors": [
    {
      "code": "WRONG_SORT_KEY",
      "desc": "w以外でソート"
    },
    {
      "code": "CYCLE_FILTER_MISS",
      "desc": "サイクル検出を忘れる"
    },
    {
      "code": "UNION_ORDER_BUG",
      "desc": "併合の大小関係を誤る"
    }
  ],
  "witness": {
    "mst_weight_t1": 10183,
    "chosen_edges_t1": [
      24,
      53,
      60,
      37,
      48,
      47,
      79,
      26,
      5,
      21,
      19,
      1,
      41,
      46,
      45,
      31,
      50,
      6,
      77,
      34,
      69,
      56,
      4,
      36,
      20,
      54,
      0,
      72,
      35,
      23,
      71,
      30,
      70,
      55,
      44,
      39,
      9,
      80,
      42,
      74,
      40,
      38,
      66
    ],
    "mst_weight_t2": 5324,
    "chosen_edges_t2": [
      62,
      3,
      78,
      6,
      51,
      32,
      80,
      42,
      38,
      20,
      82,
      10,
      29,
      58,
      46,
      22,
      30,
      79,
      52,
      36,
      25,
      85,
      2,
      75,
      72,
      45,
      40,
      81,
      26,
      65,
      27,
      11,
      37,
      66,
      50,
      43,
      55,
      24,
      18,
      83,
      70,
      48,
      0
    ]
  },
  "difficulty": {
    "score": 0.45,
    "basis": "Kruskal + DSU"
  },
  "tags": [
    "graph",
    "mst",
    "dsu",
    "intermediate"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}