{
  "id": "UF_20250920_00002",
  "version": "1.0",
  "lang": "ja",
  "task_family": "union_find_connectivity",
  "answer_type": "lines",
  "task": "uf_connect",
  "statement_ja": "無向グラフ G(V,E) と Q 個の質問 (a,b) が与えられる。Union-Find を用いて、a と b が同じ連結成分かを判定せよ（同じなら 1、異なるなら 0）。",
  "io_spec": {
    "input": "n m Q\\n(u v)×m\\n(a b)×Q（すべて 1-indexed）",
    "output": "各クエリに対する 1/0（改行区切り）"
  },
  "instance": {
    "seed": 2,
    "template_id": "UF_T1",
    "params": {
      "n": 52
    }
  },
  "tests": [
    {
      "in": "52 71 71\n1 3\n1 11\n1 16\n1 23\n1 32\n1 36\n1 37\n1 46\n2 5\n3 28\n4 16\n4 23\n5 10\n5 13\n5 18\n5 24\n6 7\n6 24\n6 42\n6 48\n8 42\n9 14\n9 31\n10 13\n10 48\n10 50\n12 35\n12 38\n12 47\n13 48\n14 45\n15 30\n15 34\n15 45\n16 22\n16 39\n17 49\n18 38\n18 50\n19 21\n19 26\n20 36\n21 45\n21 49\n22 29\n22 33\n23 25\n26 30\n26 34\n26 49\n27 35\n28 37\n29 36\n30 31\n31 51\n31 52\n33 37\n34 51\n35 48\n36 37\n36 40\n39 46\n40 46\n41 49\n42 50\n43 45\n43 51\n44 49\n44 51\n45 52\n47 50\n7 38\n48 10\n18 13\n52 19\n50 13\n14 26\n29 40\n34 9\n38 48\n13 7\n9 17\n8 47\n5 2\n30 26\n28 1\n10 13\n18 50\n47 10\n4 32\n43 14\n24 18\n47 10\n36 23\n37 39\n29 4\n27 5\n4 28\n18 7\n30 43\n21 31\n6 47\n49 43\n41 31\n6 2\n23 4\n6 4\n42 4\n34 39\n38 41\n18 14\n6 41\n41 20\n5 43\n31 22\n8 31\n9 50\n33 51\n42 40\n33 35\n39 6\n37 52\n51 37\n46 18\n12 11\n28 18\n50 39\n19 12\n12 17\n11 10\n27 40\n47 44\n10 49\n49 20\n28 50\n1 27\n21 42\n1 44\n30 28\n45 37\n39 26\n22 8\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    },
    {
      "in": "52 93 58\n1 3\n1 11\n1 20\n1 37\n2 5\n2 10\n2 38\n2 42\n3 16\n3 23\n3 40\n4 11\n4 20\n4 32\n4 40\n4 46\n5 42\n5 50\n6 7\n6 24\n6 27\n6 35\n6 48\n8 10\n8 13\n8 42\n8 47\n9 17\n9 30\n9 34\n10 18\n10 48\n11 16\n11 29\n11 40\n12 38\n12 42\n13 18\n13 48\n14 41\n15 26\n15 30\n15 41\n15 49\n15 52\n16 33\n17 19\n17 44\n17 52\n18 47\n19 26\n19 34\n20 29\n20 33\n20 37\n21 26\n21 34\n21 45\n21 49\n22 36\n22 46\n23 33\n24 27\n24 42\n25 29\n26 45\n26 52\n28 36\n28 37\n28 46\n30 43\n30 51\n31 34\n32 37\n33 46\n34 41\n35 38\n35 47\n36 37\n36 39\n36 40\n38 47\n38 48\n39 40\n39 46\n41 52\n43 44\n43 49\n43 52\n44 45\n44 49\n44 52\n49 51\n38 42\n30 51\n52 44\n31 45\n28 39\n13 50\n33 3\n46 23\n27 7\n39 22\n41 51\n47 13\n51 41\n7 6\n34 14\n47 12\n16 23\n13 6\n28 16\n33 29\n19 21\n41 52\n41 31\n51 49\n42 7\n18 7\n19 15\n29 23\n16 23\n25 39\n49 17\n2 35\n40 39\n10 13\n17 49\n18 47\n29 1\n36 37\n21 49\n51 26\n38 47\n15 31\n9 21\n8 24\n30 44\n36 1\n21 39\n13 9\n41 48\n41 48\n15 47\n8 17\n30 40\n36 5\n30 7\n50 1\n14 36\n43 27\n",
      "out": "1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n"
    }
  ],
  "reference": {
    "py": "ref/py/uf_connect.py"
  },
  "hints": [
    {
      "level": 1,
      "text": "辺をすべて unite してから same(a,b) を判定する。"
    },
    {
      "level": 2,
      "text": "経路圧縮 + サイズ（またはランク）併合で高速化。"
    },
    {
      "level": 3,
      "text": "入力は 1-indexed。0-index と取り違えないこと。"
    }
  ],
  "distractors": [
    {
      "code": "NO_PATH_COMPRESSION",
      "desc": "経路圧縮なしで find が遅い"
    },
    {
      "code": "UNION_BY_RANK_BUG",
      "desc": "小を大にぶら下げる条件を逆にしてしまう"
    },
    {
      "code": "INDEX_BASE_MISMATCH",
      "desc": "1-indexed/0-indexed の取り違え"
    },
    {
      "code": "DELAY_UNION",
      "desc": "クエリ処理後に union してしまう順序ミス"
    }
  ],
  "witness": {
    "yes_count_t1": 35,
    "no_count_t1": 36,
    "yes_count_t2": 46,
    "no_count_t2": 12
  },
  "difficulty": {
    "score": 0.35,
    "basis": "DSU basics with path compression"
  },
  "tags": [
    "dsu",
    "graph",
    "beginner"
  ],
  "license": "CC BY-SA 4.0 (texts) / MIT (code)"
}